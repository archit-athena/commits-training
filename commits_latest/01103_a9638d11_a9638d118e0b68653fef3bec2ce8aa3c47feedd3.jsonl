{"prompt": "refactor: add support for extending file storage to other schemes and provide a runtime flag for the same (#3348)\n\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>", "response": "Files to modify:\n\n\n**file_storage.rs**\n  Add:\n    - function: pub::validate\n    - function: pub::get_file_storage_client\n    - function: private::fmt\n    - struct: pub::InvalidFileStorageConfig\n    - enum: pub::FileStorageConfig\n    - enum: pub::FileStorageError\n    - trait: pub::FileStorageInterface\n    - impl: impl FileStorageConfig\n    - impl: impl std::error::Error for InvalidFileStorageConfig\n    - impl: impl Display for InvalidFileStorageConfig\n    - mod: private::aws_s3\n    - mod: private::file_system\n\n**aws_s3.rs**\n  Add:\n    - function: pub::validate\n    - function: pub::new\n    - function: private::upload_file\n    - function: private::delete_file\n    - function: private::retrieve_file\n    - function: private::upload_file\n    - function: private::delete_file\n    - function: private::retrieve_file\n    - struct: pub::AwsFileStorageConfig\n    - struct: pub::AwsFileStorageClient\n    - enum: private::AwsS3StorageError\n    - impl: impl AwsFileStorageConfig\n    - impl: impl AwsFileStorageClient\n    - impl: impl FileStorageInterface for AwsFileStorageClient\n\n**file_system.rs**\n  Add:\n    - function: private::get_file_path\n    - function: private::upload_file\n    - function: private::delete_file\n    - function: private::retrieve_file\n    - function: private::upload_file\n    - function: private::delete_file\n    - function: private::retrieve_file\n    - struct: pub::FileSystem\n    - enum: private::FileSystemStorageError\n    - impl: impl FileSystem\n    - impl: impl FileStorageInterface for FileSystem\n\n**lib.rs**\n  Add:\n    - mod: pub::file_storage\n\n**settings.rs**\n  Remove:\n    - struct: pub::FileUploadConfig\n\n**validations.rs**\n  Remove:\n    - function: pub::validate\n    - impl: impl super::settings::FileUploadConfig\n\n**files.rs**\n  Remove:\n    - mod: pub::s3_utils\n    - mod: pub::fs_utils\n\n**fs_utils.rs**\n  Remove:\n    - function: pub::get_file_path\n    - function: pub::save_file_to_fs\n    - function: pub::delete_file_from_fs\n    - function: pub::retrieve_file_from_fs\n\n**helpers.rs**\n  Remove:\n    - function: pub::upload_file\n    - function: pub::delete_file\n    - function: pub::retrieve_file\n\n**s3_utils.rs**\n  Remove:\n    - function: private::get_aws_client\n    - function: pub::upload_file_to_s3\n    - function: pub::delete_file_from_s3\n    - function: pub::retrieve_file_from_s3\n\n**app.rs**\n  Modify existing code"}
