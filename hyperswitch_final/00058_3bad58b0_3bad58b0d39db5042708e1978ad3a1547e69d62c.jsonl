{"prompt": "feat(drainer): added drainer which reads from redis stream and executes queries on DB (#142)", "response": "Files to modify:\n\n\n**errors.rs**\n  Add:\n    - enum: pub::DrainerError\n\n**lib.rs**\n  Add:\n    - function: pub::start_drainer\n    - function: private::drainer_handler\n    - function: private::drainer\n    - mod: pub::errors\n    - mod: private::utils\n    - mod: private::macro_util\n\n**main.rs**\n  Add:\n    - function: private::main\n\n**utils.rs**\n  Add:\n    - function: pub::is_stream_available\n    - function: pub::read_from_stream\n    - function: pub::trim_from_stream\n    - function: pub::make_stream_available\n    - function: pub::parse_stream_entries\n    - function: pub::increment_stream_index\n    - function: pub::get_stream_key_flag\n    - function: pub::get_drainer_stream\n\n**commands.rs**\n  Add:\n    - function: pub::stream_trim_entries\n    - function: pub::stream_get_length\n\n**errors.rs**\n  Add:\n    - enum: pub::DrainerError\n\n**settings.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code\n\n**services.rs**\n  Modify existing code\n\n**storage.rs**\n  Add:\n    - mod: pub::kv\n\n**kv.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code\n\n**errors.rs**\n  Add:\n    - enum: pub::DrainerError\n\n**kv.rs**\n  Modify existing code\n\n**lib.rs**\n  Add:\n    - function: pub::start_drainer\n    - function: private::drainer_handler\n    - function: private::drainer\n    - mod: pub::errors\n    - mod: private::utils\n    - mod: private::macro_util\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code\n\n**address.rs**\n  Modify existing code\n\n**configs.rs**\n  Modify existing code\n\n**connector_response.rs**\n  Modify existing code\n\n**customers.rs**\n  Modify existing code\n\n**events.rs**\n  Modify existing code\n\n**generics.rs**\n  Remove:\n    - function: pub::to_field_value_pairs\n    - function: pub::new\n    - function: private::default\n    - function: private::insert\n    - function: private::update\n    - function: private::update_with_results\n    - function: private::update_by_id\n    - function: private::delete\n    - function: private::delete_with_results\n    - function: private::delete_one_with_result\n    - function: private::insert\n    - function: private::update\n    - function: private::update_with_results\n    - function: private::update_by_id\n    - function: private::delete\n    - function: private::delete_with_results\n    - function: private::delete_one_with_result\n    - function: pub::generate_raw_query\n    - struct: pub::RawSqlQuery\n    - struct: pub::ExecuteQuery\n    - struct: pub::RawQuery\n    - trait: pub::QueryExecutionMode\n    - impl: impl RawSqlQuery\n    - impl: impl ExecuteQuery<R>\n    - impl: impl Default for ExecuteQuery<R>\n    - impl: impl QueryExecutionMode<Q> for ExecuteQuery<R>\n    - impl: impl QueryExecutionMode<Q> for RawQuery\n\n**locker_mock_up.rs**\n  Modify existing code\n\n**mandate.rs**\n  Modify existing code\n\n**merchant_account.rs**\n  Modify existing code\n\n**merchant_connector_account.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code\n\n**payment_method.rs**\n  Modify existing code\n\n**process_tracker.rs**\n  Modify existing code\n\n**refund.rs**\n  Modify existing code\n\n**temp_card.rs**\n  Modify existing code"}
