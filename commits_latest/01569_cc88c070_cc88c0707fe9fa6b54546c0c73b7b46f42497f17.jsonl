{"prompt": "feat(analytics): FRM Analytics (#4880)\n\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>\nCo-authored-by: Abhitator216 <abhishek.kanojia@juspay.in>\nCo-authored-by: Abhishek Kanojia <89402434+Abhitator216@users.noreply.github.com>\nCo-authored-by: ivor-juspay <138492857+ivor-juspay@users.noreply.github.com>\nCo-authored-by: Sampras Lopes <sampras.lopes@juspay.in>", "response": "Files to modify:\n\n\n**clickhouse.rs**\n  Add:\n    - function: private::try_into\n    - function: private::try_into\n    - impl: impl TryInto<FrmFilterRow> for serde_json::Value\n\n**core.rs**\n  Modify existing code\n\n**frm.rs**\n  Add:\n    - mod: pub::accumulator\n    - mod: private::core\n    - mod: pub::filters\n    - mod: pub::metrics\n    - mod: pub::types\n\n**accumulator.rs**\n  Add:\n    - function: private::add_metrics_bucket\n    - function: private::collect\n    - function: private::add_metrics_bucket\n    - function: private::collect\n    - function: pub::collect\n    - struct: pub::FrmMetricsAccumulator\n    - struct: pub::TriggeredAttemptsAccumulator\n    - struct: pub::BlockedRateAccumulator\n    - trait: pub::FrmMetricAccumulator\n    - impl: impl FrmMetricAccumulator for TriggeredAttemptsAccumulator\n    - impl: impl FrmMetricAccumulator for BlockedRateAccumulator\n    - impl: impl FrmMetricsAccumulator\n\n**core.rs**\n  Modify existing code\n\n**filters.rs**\n  Add:\n    - function: pub::get_frm_filter_for_dimension\n    - struct: pub::FrmFilterRow\n    - trait: pub::FrmFilterAnalytics\n\n**metrics.rs**\n  Add:\n    - function: private::load_metrics\n    - struct: pub::FrmMetricRow\n    - trait: pub::FrmMetricAnalytics\n    - trait: pub::FrmMetric\n    - impl: impl FrmMetric<T> for FrmMetrics\n    - mod: private::frm_blocked_rate\n    - mod: private::frm_triggered_attempts\n\n**frm_blocked_rate.rs**\n  Add:\n    - function: private::load_metrics\n    - struct: pub::FrmBlockedRate\n    - impl: impl super::FrmMetric<T> for FrmBlockedRate\n\n**frm_triggered_attempts.rs**\n  Add:\n    - function: private::load_metrics\n    - struct: pub::FrmTriggeredAttempts\n    - impl: impl super::FrmMetric<T> for FrmTriggeredAttempts\n\n**types.rs**\n  Add:\n    - function: private::set_filter_clause\n    - impl: impl QueryFilter<T> for FrmFilters\n\n**lib.rs**\n  Add:\n    - function: pub::get_frm_metrics\n    - mod: pub::frm\n\n**query.rs**\n  Modify existing code\n\n**sqlx.rs**\n  Add:\n    - function: private::from_row\n    - function: private::from_row\n    - impl: impl super::frm::metrics::FrmMetricAnalytics for SqlxClient\n    - impl: impl super::frm::filters::FrmFilterAnalytics for SqlxClient\n    - impl: impl FromRow<'a, PgRow> for super::frm::metrics::FrmMetricRow\n    - impl: impl FromRow<'a, PgRow> for super::frm::filters::FrmFilterRow\n\n**types.rs**\n  Add:\n    - function: private::set_filter_clause\n    - impl: impl QueryFilter<T> for FrmFilters\n\n**utils.rs**\n  Add:\n    - function: pub::get_frm_dimensions\n    - function: pub::get_frm_metrics_info\n\n**analytics.rs**\n  Add:\n    - struct: pub::GetFrmMetricRequest\n    - struct: pub::GetFrmFilterRequest\n    - struct: pub::FrmFiltersResponse\n    - struct: pub::FrmFilterValue\n    - impl: impl ApiEventMetric for GetFrmMetricRequest\n    - impl: impl ApiEventMetric for GetFrmFilterRequest\n    - impl: impl ApiEventMetric for FrmFiltersResponse\n    - impl: impl ApiEventMetric for FrmFilterValue\n    - mod: pub::frm\n\n**frm.rs**\n  Add:\n    - mod: pub::accumulator\n    - mod: private::core\n    - mod: pub::filters\n    - mod: pub::metrics\n    - mod: pub::types\n\n**enums.rs**\n  Add:\n    - enum: pub::FraudCheckStatus\n    - enum: pub::FrmTransactionType\n\n**enums.rs**\n  Add:\n    - enum: pub::FraudCheckStatus\n    - enum: pub::FrmTransactionType\n\n**analytics.rs**\n  Add:\n    - struct: pub::GetFrmMetricRequest\n    - struct: pub::GetFrmFilterRequest\n    - struct: pub::FrmFiltersResponse\n    - struct: pub::FrmFilterValue\n    - impl: impl ApiEventMetric for GetFrmMetricRequest\n    - impl: impl ApiEventMetric for GetFrmFilterRequest\n    - impl: impl ApiEventMetric for FrmFiltersResponse\n    - impl: impl ApiEventMetric for FrmFilterValue\n    - mod: pub::frm\n\n**db.rs**\n  Modify existing code\n\n**fraud_check.rs**\n  Remove:\n    - function: private::insert_fraud_check_response\n    - function: private::update_fraud_check_response_with_attempt_id\n    - function: private::find_fraud_check_by_payment_id\n    - impl: impl FraudCheckInterface for super::KafkaStore\n\n**kafka_store.rs**\n  Modify existing code\n\n**events.rs**\n  Modify existing code\n\n**kafka.rs**\n  Add:\n    - function: pub::log_fraud_check\n    - mod: private::fraud_check\n    - mod: private::fraud_check_event\n\n**fraud_check.rs**\n  Remove:\n    - function: private::insert_fraud_check_response\n    - function: private::update_fraud_check_response_with_attempt_id\n    - function: private::find_fraud_check_by_payment_id\n    - impl: impl FraudCheckInterface for super::KafkaStore\n\n**fraud_check_event.rs**\n  Add:\n    - function: pub::from_storage\n    - function: private::key\n    - function: private::event_type\n    - struct: pub::KafkaFraudCheckEvent\n    - impl: impl KafkaFraudCheckEvent<'a>\n    - impl: impl super::KafkaMessage for KafkaFraudCheckEvent<'a>"}
