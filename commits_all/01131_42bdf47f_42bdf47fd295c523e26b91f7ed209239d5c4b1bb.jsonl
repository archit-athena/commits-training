{"prompt": "feat(payment_v2): implement payments sync  (#6464)\n\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>", "response": "Files to modify:\n\n\n**payment.rs**\n  Add:\n    - function: private::get_api_event_type\n    - impl: impl ApiEventMetric for super::PaymentsRetrieveResponse\n\n**payments.rs**\n  Add:\n    - struct: pub::PaymentsRetrieveRequest\n    - struct: pub::PaymentsRetrieveResponse\n\n**enums.rs**\n  Add:\n    - function: pub::should_force_sync_with_connector\n    - impl: impl IntentStatus\n\n**transformers.rs**\n  Add:\n    - function: private::from\n    - impl: impl From<AttemptStatus> for IntentStatus\n\n**types.rs**\n  Add:\n    - function: pub::wrap\n    - function: pub::into_inner\n\n**kv.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Add:\n    - enum: pub::RedirectForm\n\n**payment_intent.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Add:\n    - enum: pub::RedirectForm\n\n**payment_intent.rs**\n  Modify existing code\n\n**schema_v2.rs**\n  Modify existing code\n\n**merchant_connector_account.rs**\n  Add:\n    - function: pub::is_disabled\n    - function: pub::get_connector_account_details\n\n**payments.rs**\n  Add:\n    - struct: pub::PaymentsRetrieveRequest\n    - struct: pub::PaymentsRetrieveResponse\n\n**payment_attempt.rs**\n  Add:\n    - enum: pub::RedirectForm\n\n**payment_intent.rs**\n  Modify existing code\n\n**router_data.rs**\n  Add:\n    - function: private::get_payment_intent_update\n    - function: private::get_payment_attempt_update\n    - function: private::get_payment_intent_update\n    - function: private::get_payment_attempt_update\n    - trait: pub::TrackerPostUpdateObjects\n    - impl: impl TrackerPostUpdateObjects<\nrouter_flow_types::Authorize,\nrouter_request_types::PaymentsAuthorizeData,\n> for RouterData<\nrouter_flow_types::Authorize,\nrouter_request_types::PaymentsAuthorizeData,\nrouter_response_types::PaymentsResponseData,\n>\n    - impl: impl TrackerPostUpdateObjects<router_flow_types::PSync, router_request_types::PaymentsSyncData> for RouterData<\nrouter_flow_types::PSync,\nrouter_request_types::PaymentsSyncData,\nrouter_response_types::PaymentsResponseData,\n>\n\n**router_response_types.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - impl: impl From<RedirectForm> for diesel_models::payment_attempt::RedirectForm\n    - impl: impl From<diesel_models::payment_attempt::RedirectForm> for RedirectForm\n\n**payment_intents.rs**\n  Modify existing code\n\n**setup_intents.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**checkout_flow.rs**\n  Modify existing code\n\n**record_return.rs**\n  Modify existing code\n\n**sale_flow.rs**\n  Modify existing code\n\n**transaction_flow.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - struct: pub::PaymentsRetrieveRequest\n    - struct: pub::PaymentsRetrieveResponse\n\n**flows.rs**\n  Modify existing code\n\n**approve_flow.rs**\n  Add:\n    - function: private::construct_router_data\n\n**authorize_flow.rs**\n  Modify existing code\n\n**cancel_flow.rs**\n  Add:\n    - function: private::construct_router_data\n\n**capture_flow.rs**\n  Add:\n    - function: private::construct_router_data\n\n**complete_authorize_flow.rs**\n  Add:\n    - function: private::construct_router_data\n\n**incremental_authorization_flow.rs**\n  Add:\n    - function: private::construct_router_data\n\n**post_session_tokens_flow.rs**\n  Add:\n    - function: private::construct_router_data\n\n**psync_flow.rs**\n  Add:\n    - function: private::construct_router_data\n    - function: private::get_merchant_recipient_data\n    - impl: impl ConstructFlowSpecificData<api::PSync, types::PaymentsSyncData, types::PaymentsResponseData> for hyperswitch_domain_models::payments::PaymentStatusData<api::PSync>\n\n**reject_flow.rs**\n  Add:\n    - function: private::construct_router_data\n\n**session_flow.rs**\n  Add:\n    - function: private::construct_router_data\n\n**session_update_flow.rs**\n  Add:\n    - function: private::construct_router_data\n\n**setup_mandate_flow.rs**\n  Add:\n    - function: private::construct_router_data\n\n**operations.rs**\n  Remove:\n    - function: private::get_customer_details\n  Add:\n    - trait: pub::CallConnector\n    - trait: pub::ShouldCallConnector\n    - mod: pub::payment_get\n\n**payment_confirm_intent.rs**\n  Modify existing code\n\n**payment_create_intent.rs**\n  Modify existing code\n\n**payment_get.rs**\n  Add:\n    - function: private::validate_status_for_operation\n    - function: private::to_validate_request\n    - function: private::to_get_tracker\n    - function: private::to_domain\n    - function: private::to_update_tracker\n    - function: private::to_validate_request\n    - function: private::to_get_tracker\n    - function: private::to_domain\n    - function: private::to_update_tracker\n    - function: private::validate_request\n    - function: private::get_trackers\n    - function: private::get_customer_details\n    - function: private::make_pm_data\n    - function: private::perform_routing\n    - function: private::update_trackers\n    - struct: pub::PaymentGet\n    - impl: impl ValidateStatusForOperation for PaymentGet\n    - impl: impl Operation<F, PaymentsRetrieveRequest> for &PaymentGet\n    - impl: impl Operation<F, PaymentsRetrieveRequest> for PaymentGet\n    - impl: impl ValidateRequest<F, PaymentsRetrieveRequest, PaymentStatusData<F>> for PaymentGet\n    - impl: impl GetTracker<F, PaymentStatusData<F>, PaymentsRetrieveRequest> for PaymentGet\n    - impl: impl Domain<F, PaymentsRetrieveRequest, PaymentStatusData<F>> for PaymentGet\n    - impl: impl UpdateTracker<F, PaymentStatusData<F>, PaymentsRetrieveRequest> for PaymentGet\n\n**payment_get_intent.rs**\n  Modify existing code\n\n**payment_response.rs**\n  Add:\n    - function: private::to_post_update_tracker\n    - impl: impl Operation<F, types::PaymentsSyncData> for PaymentResponse\n\n**retry.rs**\n  Modify existing code\n\n**transformers.rs**\n  Add:\n    - function: private::from\n    - impl: impl From<AttemptStatus> for IntentStatus\n\n**payouts.rs**\n  Add:\n    - function: pub::complete_payout_retrieve\n\n**kafka_store.rs**\n  Modify existing code\n\n**app.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - struct: pub::PaymentsRetrieveRequest\n    - struct: pub::PaymentsRetrieveResponse\n\n**routing.rs**\n  Modify existing code\n\n**authentication.rs**\n  Remove:\n    - function: private::get_client_secret\n    - struct: pub::ApiKeyAuthV2\n    - impl: impl ClientSecretFetch for payments::PaymentsRetrieveRequest\n  Add:\n    - function: private::get_client_secret\n    - impl: impl ClientSecretFetch for payments::PaymentsRetrieveRequest\n\n**api.rs**\n  Modify existing code\n\n**transformers.rs**\n  Add:\n    - function: private::from\n    - impl: impl From<AttemptStatus> for IntentStatus\n\n**payment_attempt.rs**\n  Add:\n    - enum: pub::RedirectForm\n\n**payment_intent.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Add:\n    - enum: pub::RedirectForm\n\n**payment_intent.rs**\n  Modify existing code"}
