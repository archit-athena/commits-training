{"prompt": "refactor(payment_methods): refactor customer payment methods list v2 code to follow better code practices (#6433)", "response": "Files to modify:\n\n\n**admin.rs**\n  Modify existing code\n\n**payment_methods.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**business_profile.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_method.rs**\n  Remove:\n    - function: pub::create_payment_method\n    - function: private::create_payment_method\n  Add:\n    - function: private::deref\n    - function: private::deref_mut\n    - struct: pub::PaymentsMandateReferenceRecord\n    - struct: pub::PaymentsMandateReference\n    - impl: impl std::ops::Deref for PaymentsMandateReference\n    - impl: impl std::ops::DerefMut for PaymentsMandateReference\n\n**schema_v2.rs**\n  Modify existing code\n\n**transformers.rs**\n  Modify existing code\n\n**business_profile.rs**\n  Modify existing code\n\n**merchant_connector_account.rs**\n  Add:\n    - function: pub::new\n    - function: pub::is_merchant_connector_account_id_in_connector_mandate_details\n    - struct: pub::MerchantConnectorAccounts\n    - impl: impl MerchantConnectorAccounts\n\n**payment_methods.rs**\n  Modify existing code\n\n**router_data.rs**\n  Modify existing code\n\n**router_response_types.rs**\n  Modify existing code\n\n**admin.rs**\n  Modify existing code\n\n**payment_methods.rs**\n  Modify existing code\n\n**cards.rs**\n  Remove:\n    - function: pub::update_payment_method_metadata_and_last_used\n  Add:\n    - function: pub::get_mca_status\n\n**transformers.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**payment_response.rs**\n  Modify existing code\n\n**tokenization.rs**\n  Modify existing code\n\n**payment_method.rs**\n  Remove:\n    - function: pub::create_payment_method\n    - function: private::create_payment_method\n  Add:\n    - function: private::deref\n    - function: private::deref_mut\n    - struct: pub::PaymentsMandateReferenceRecord\n    - struct: pub::PaymentsMandateReference\n    - impl: impl std::ops::Deref for PaymentsMandateReference\n    - impl: impl std::ops::DerefMut for PaymentsMandateReference\n\n**payment_methods.rs**\n  Modify existing code\n\n**authentication.rs**\n  Add:\n    - function: pub::check_client_secret_and_get_auth\n    - function: pub::is_ephemeral_auth\n\n**admin.rs**\n  Modify existing code\n\n**payment_methods.rs**\n  Modify existing code\n\n**payment_method.rs**\n  Remove:\n    - function: pub::create_payment_method\n    - function: private::create_payment_method\n  Add:\n    - function: private::deref\n    - function: private::deref_mut\n    - struct: pub::PaymentsMandateReferenceRecord\n    - struct: pub::PaymentsMandateReference\n    - impl: impl std::ops::Deref for PaymentsMandateReference\n    - impl: impl std::ops::DerefMut for PaymentsMandateReference"}
