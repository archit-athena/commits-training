{"prompt": "feat(multitenancy): add support for multitenancy and handle the same in router, producer, consumer, drainer and analytics (#4630)\n\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>\nCo-authored-by: Arun Raj M <jarnura47@gmail.com>", "response": "Files to modify:\n\n\n**lib.rs**\n  Modify existing code\n\n**sqlx.rs**\n  Modify existing code\n\n**consts.rs**\n  Modify existing code\n\n**lib.rs**\n  Modify existing code\n\n**connection.rs**\n  Modify existing code\n\n**handler.rs**\n  Modify existing code\n\n**health_check.rs**\n  Modify existing code\n\n**lib.rs**\n  Modify existing code\n\n**main.rs**\n  Modify existing code\n\n**secrets_transformers.rs**\n  Modify existing code\n\n**services.rs**\n  Modify existing code\n\n**settings.rs**\n  Add:\n    - function: private::get_username\n    - function: private::get_password\n    - function: private::get_host\n    - function: private::get_port\n    - function: private::get_dbname\n    - function: pub::get_tenants\n    - function: pub::get_tenant_names\n    - function: pub::get_tenant\n    - struct: pub::Multitenancy\n    - struct: pub::TenantConfig\n    - struct: pub::Tenant\n    - impl: impl DbConnectionParams for Database\n    - impl: impl Multitenancy\n\n**api_error_response.rs**\n  Modify existing code\n\n**commands.rs**\n  Add:\n    - function: pub::add_prefix\n    - function: pub::get_keys_with_prefix\n\n**lib.rs**\n  Modify existing code\n\n**scheduler.rs**\n  Add:\n    - impl: impl ProcessTrackerWorkflows<routes::SessionState> for execute_workflow(state, process.clone())\n\n**customers.rs**\n  Modify existing code\n\n**errors.rs**\n  Modify existing code\n\n**wrap.rs**\n  Modify existing code\n\n**defaults.rs**\n  Modify existing code\n\n**secrets_transformers.rs**\n  Modify existing code\n\n**settings.rs**\n  Add:\n    - function: private::get_username\n    - function: private::get_password\n    - function: private::get_host\n    - function: private::get_port\n    - function: private::get_dbname\n    - function: pub::get_tenants\n    - function: pub::get_tenant_names\n    - function: pub::get_tenant\n    - struct: pub::Multitenancy\n    - struct: pub::TenantConfig\n    - struct: pub::Tenant\n    - impl: impl DbConnectionParams for Database\n    - impl: impl Multitenancy\n\n**nuvei.rs**\n  Modify existing code\n\n**shift4.rs**\n  Modify existing code\n\n**square.rs**\n  Modify existing code\n\n**wise.rs**\n  Modify existing code\n\n**admin.rs**\n  Modify existing code\n\n**api_keys.rs**\n  Modify existing code\n\n**api_locking.rs**\n  Modify existing code\n\n**authentication.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**blocklist.rs**\n  Modify existing code\n\n**transformers.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**cache.rs**\n  Modify existing code\n\n**cards_info.rs**\n  Modify existing code\n\n**conditional_config.rs**\n  Modify existing code\n\n**configs.rs**\n  Modify existing code\n\n**connector_onboarding.rs**\n  Modify existing code\n\n**paypal.rs**\n  Modify existing code\n\n**currency.rs**\n  Modify existing code\n\n**customers.rs**\n  Modify existing code\n\n**disputes.rs**\n  Modify existing code\n\n**transformers.rs**\n  Modify existing code\n\n**files.rs**\n  Modify existing code\n\n**helpers.rs**\n  Modify existing code\n\n**fraud_check.rs**\n  Modify existing code\n\n**flows.rs**\n  Modify existing code\n\n**checkout_flow.rs**\n  Modify existing code\n\n**fulfillment_flow.rs**\n  Modify existing code\n\n**record_return.rs**\n  Modify existing code\n\n**sale_flow.rs**\n  Modify existing code\n\n**transaction_flow.rs**\n  Modify existing code\n\n**operation.rs**\n  Modify existing code\n\n**fraud_check_post.rs**\n  Modify existing code\n\n**fraud_check_pre.rs**\n  Modify existing code\n\n**gsm.rs**\n  Modify existing code\n\n**health_check.rs**\n  Modify existing code\n\n**locker_migration.rs**\n  Modify existing code\n\n**mandate.rs**\n  Modify existing code\n\n**helpers.rs**\n  Modify existing code\n\n**payment_link.rs**\n  Modify existing code\n\n**payment_methods.rs**\n  Modify existing code\n\n**cards.rs**\n  Modify existing code\n\n**surcharge_decision_configs.rs**\n  Modify existing code\n\n**vault.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**access_token.rs**\n  Modify existing code\n\n**conditional_configs.rs**\n  Modify existing code\n\n**customers.rs**\n  Modify existing code\n\n**flows.rs**\n  Modify existing code\n\n**approve_flow.rs**\n  Modify existing code\n\n**authorize_flow.rs**\n  Modify existing code\n\n**cancel_flow.rs**\n  Modify existing code\n\n**capture_flow.rs**\n  Modify existing code\n\n**complete_authorize_flow.rs**\n  Modify existing code\n\n**incremental_authorization_flow.rs**\n  Modify existing code\n\n**psync_flow.rs**\n  Modify existing code\n\n**reject_flow.rs**\n  Modify existing code\n\n**session_flow.rs**\n  Modify existing code\n\n**setup_mandate_flow.rs**\n  Modify existing code\n\n**helpers.rs**\n  Modify existing code\n\n**operations.rs**\n  Modify existing code\n\n**payment_approve.rs**\n  Modify existing code\n\n**payment_cancel.rs**\n  Modify existing code\n\n**payment_capture.rs**\n  Modify existing code\n\n**payment_complete_authorize.rs**\n  Modify existing code\n\n**payment_confirm.rs**\n  Modify existing code\n\n**payment_create.rs**\n  Modify existing code\n\n**payment_reject.rs**\n  Modify existing code\n\n**payment_response.rs**\n  Modify existing code\n\n**payment_session.rs**\n  Modify existing code\n\n**payment_start.rs**\n  Modify existing code\n\n**payment_status.rs**\n  Modify existing code\n\n**payment_update.rs**\n  Modify existing code\n\n**payments_incremental_authorization.rs**\n  Modify existing code\n\n**retry.rs**\n  Modify existing code\n\n**routing.rs**\n  Modify existing code\n\n**tokenization.rs**\n  Modify existing code\n\n**transformers.rs**\n  Modify existing code\n\n**types.rs**\n  Modify existing code\n\n**payouts.rs**\n  Modify existing code\n\n**access_token.rs**\n  Modify existing code\n\n**helpers.rs**\n  Modify existing code\n\n**retry.rs**\n  Modify existing code\n\n**validator.rs**\n  Modify existing code\n\n**pm_auth.rs**\n  Modify existing code\n\n**poll.rs**\n  Modify existing code\n\n**refunds.rs**\n  Modify existing code\n\n**routing.rs**\n  Modify existing code\n\n**surcharge_decision_config.rs**\n  Modify existing code\n\n**user.rs**\n  Modify existing code\n\n**dashboard_metadata.rs**\n  Modify existing code\n\n**sample_data.rs**\n  Modify existing code\n\n**user_role.rs**\n  Modify existing code\n\n**role.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**verification.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**verify_connector.rs**\n  Modify existing code\n\n**webhooks.rs**\n  Modify existing code\n\n**webhook_events.rs**\n  Modify existing code\n\n**api_keys.rs**\n  Modify existing code\n\n**kafka_store.rs**\n  Modify existing code\n\n**merchant_connector_account.rs**\n  Modify existing code\n\n**lib.rs**\n  Modify existing code\n\n**routes.rs**\n  Modify existing code\n\n**app.rs**\n  Remove:\n    - function: private::store\n  Add:\n    - function: private::store\n    - function: private::conf\n    - function: private::event_handler\n    - function: private::get_request_id\n    - function: private::add_request_id\n    - function: private::get_store_interface\n    - function: pub::get_session_state\n    - trait: pub::SessionStateInfo\n    - impl: impl SessionStateInfo for SessionState\n\n**customers.rs**\n  Modify existing code\n\n**core.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**health.rs**\n  Modify existing code\n\n**payment_methods.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**recon.rs**\n  Modify existing code\n\n**services.rs**\n  Modify existing code\n\n**api.rs**\n  Modify existing code\n\n**client.rs**\n  Modify existing code\n\n**authentication.rs**\n  Modify existing code\n\n**blacklist.rs**\n  Modify existing code\n\n**authorization.rs**\n  Modify existing code\n\n**roles.rs**\n  Modify existing code\n\n**types.rs**\n  Modify existing code\n\n**pm_auth.rs**\n  Modify existing code\n\n**mandates.rs**\n  Modify existing code\n\n**verify_connector.rs**\n  Modify existing code\n\n**paypal.rs**\n  Modify existing code\n\n**webhooks.rs**\n  Modify existing code\n\n**user.rs**\n  Modify existing code\n\n**decision_manager.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**connector_onboarding.rs**\n  Modify existing code\n\n**paypal.rs**\n  Modify existing code\n\n**currency.rs**\n  Modify existing code\n\n**user.rs**\n  Modify existing code\n\n**dashboard_metadata.rs**\n  Modify existing code\n\n**sample_data.rs**\n  Modify existing code\n\n**two_factor_auth.rs**\n  Modify existing code\n\n**user_role.rs**\n  Modify existing code\n\n**api_key_expiry.rs**\n  Modify existing code\n\n**attach_payout_account_workflow.rs**\n  Modify existing code\n\n**outgoing_webhook_retry.rs**\n  Modify existing code\n\n**payment_sync.rs**\n  Modify existing code\n\n**refund_router.rs**\n  Modify existing code\n\n**tokenized_data.rs**\n  Modify existing code\n\n**cache.rs**\n  Modify existing code\n\n**aci.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**payments2.rs**\n  Modify existing code\n\n**services.rs**\n  Modify existing code\n\n**consumer.rs**\n  Add:\n    - function: pub::consumer_operations\n\n**workflows.rs**\n  Modify existing code\n\n**errors.rs**\n  Modify existing code\n\n**producer.rs**\n  Modify existing code\n\n**scheduler.rs**\n  Add:\n    - impl: impl ProcessTrackerWorkflows<routes::SessionState> for execute_workflow(state, process.clone())\n\n**utils.rs**\n  Modify existing code\n\n**config.rs**\n  Add:\n    - function: private::get_username\n    - function: private::get_password\n    - function: private::get_host\n    - function: private::get_port\n    - function: private::get_dbname\n    - trait: pub::TenantConfig\n    - impl: impl DbConnectionParams for Database\n\n**store.rs**\n  Modify existing code\n\n**lib.rs**\n  Modify existing code\n\n**cache.rs**\n  Modify existing code\n\n**pub_sub.rs**\n  Modify existing code"}
