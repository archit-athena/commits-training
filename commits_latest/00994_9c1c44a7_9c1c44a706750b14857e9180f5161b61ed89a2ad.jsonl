{"prompt": "feat(pm_auth): pm_auth service migration (#3047)\n\nCo-authored-by: Sarthak Soni <76486416+Sarthak1799@users.noreply.github.com>\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>\nCo-authored-by: Sarthak Soni <sarthak.soni@juspay.in>", "response": "Files to modify:\n\n\n**enums.rs**\n  Add:\n    - function: pub::convert_pm_auth_connector\n    - enum: pub::PmAuthConnectors\n\n**lib.rs**\n  Add:\n    - mod: pub::pm_auth\n\n**pm_auth.rs**\n  Add:\n    - struct: pub::LinkTokenCreateRequest\n    - struct: pub::LinkTokenCreateResponse\n    - struct: pub::ExchangeTokenCreateRequest\n    - struct: pub::ExchangeTokenCreateResponse\n    - struct: pub::PaymentMethodAuthConfig\n    - struct: pub::PaymentMethodAuthConnectorChoice\n\n**connector.rs**\n  Add:\n    - mod: pub::plaid\n\n**plaid.rs**\n  Add:\n    - function: private::build_headers\n    - function: private::id\n    - function: private::common_get_content_type\n    - function: private::base_url\n    - function: private::get_auth_header\n    - function: private::build_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - struct: pub::Plaid\n    - impl: impl ConnectorCommonExt<Flow, Request, Response> for Plaid\n    - impl: impl ConnectorCommon for Plaid\n    - impl: impl auth_service::AuthService for Plaid\n    - impl: impl auth_service::AuthServiceLinkToken for Plaid\n    - impl: impl ConnectorIntegration<LinkToken, auth_types::LinkTokenRequest, auth_types::LinkTokenResponse> for Plaid\n    - impl: impl auth_service::AuthServiceExchangeToken for Plaid\n    - impl: impl ConnectorIntegration<\nExchangeToken,\nauth_types::ExchangeTokenRequest,\nauth_types::ExchangeTokenResponse,\n> for Plaid\n    - impl: impl auth_service::AuthServiceBankAccountCredentials for Plaid\n    - impl: impl ConnectorIntegration<\nBankAccountCredentials,\nauth_types::BankAccountCredentialsRequest,\nauth_types::BankAccountCredentialsResponse,\n> for Plaid\n    - mod: pub::transformers\n\n**transformers.rs**\n  Add:\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - struct: pub::PlaidLinkTokenRequest\n    - struct: pub::User\n    - struct: pub::PlaidLinkTokenResponse\n    - struct: pub::PlaidExchangeTokenRequest\n    - struct: pub::PlaidExchangeTokenResponse\n    - struct: pub::PlaidBankAccountCredentialsRequest\n    - struct: pub::PlaidBankAccountCredentialsResponse\n    - struct: pub::BankAccountCredentialsOptions\n    - struct: pub::PlaidBankAccountCredentialsAccounts\n    - struct: pub::PlaidBankAccountCredentialsBalances\n    - struct: pub::PlaidBankAccountCredentialsNumbers\n    - struct: pub::PlaidBankAccountCredentialsItem\n    - struct: pub::PlaidBankAccountCredentialsACH\n    - struct: pub::PlaidBankAccountCredentialsEFT\n    - struct: pub::PlaidBankAccountCredentialsInternational\n    - struct: pub::PlaidBankAccountCredentialsBacs\n    - struct: pub::PlaidAuthType\n    - struct: pub::PlaidErrorResponse\n    - impl: impl TryFrom<&types::LinkTokenRouterData> for PlaidLinkTokenRequest\n    - impl: impl TryFrom<types::ResponseRouterData<F, PlaidLinkTokenResponse, T, types::LinkTokenResponse>> for types::PaymentAuthRouterData<F, T, types::LinkTokenResponse>\n    - impl: impl TryFrom<\ntypes::ResponseRouterData<F, PlaidExchangeTokenResponse, T, types::ExchangeTokenResponse>,\n> for types::PaymentAuthRouterData<F, T, types::ExchangeTokenResponse>\n    - impl: impl TryFrom<&types::ExchangeTokenRouterData> for PlaidExchangeTokenRequest\n    - impl: impl TryFrom<&types::BankDetailsRouterData> for PlaidBankAccountCredentialsRequest\n    - impl: impl TryFrom<\ntypes::ResponseRouterData<\nF,\nPlaidBankAccountCredentialsResponse,\nT,\ntypes::BankAccountCredentialsResponse,\n>,\n> for types::PaymentAuthRouterData<F, T, types::BankAccountCredentialsResponse>\n    - impl: impl TryFrom<&types::ConnectorAuthType> for PlaidAuthType\n\n**consts.rs**\n  Modify existing code\n\n**core.rs**\n  Add:\n    - mod: pub::errors\n\n**errors.rs**\n  Add:\n    - enum: pub::ConnectorError\n    - enum: pub::ParsingError\n\n**lib.rs**\n  Add:\n    - mod: pub::pm_auth\n\n**types.rs**\n  Add:\n    - function: private::from\n    - function: private::get_not_implemented\n    - struct: pub::PaymentAuthRouterData\n    - struct: pub::LinkTokenRequest\n    - struct: pub::LinkTokenResponse\n    - struct: pub::ExchangeTokenRequest\n    - struct: pub::ExchangeTokenResponse\n    - struct: pub::BankAccountCredentialsRequest\n    - struct: pub::BankAccountOptionalIDs\n    - struct: pub::BankAccountCredentialsResponse\n    - struct: pub::BankAccountDetails\n    - struct: pub::ResponseRouterData\n    - struct: pub::ErrorResponse\n    - struct: pub::Response\n    - struct: pub::AuthServiceQueryParam\n    - enum: pub::PaymentMethodAuthConnectors\n    - enum: pub::ConnectorAuthType\n    - impl: impl From<ExchangeTokenResponse> for api_models::pm_auth::ExchangeTokenCreateResponse\n    - impl: impl ErrorResponse\n    - mod: pub::api\n\n**api.rs**\n  Add:\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_5xx_error_response\n    - function: private::build_headers\n    - function: private::get_connector_integration\n    - function: private::get_auth_header\n    - function: private::common_get_content_type\n    - function: private::build_error_response\n    - struct: pub::PaymentAuthConnectorData\n    - trait: pub::ConnectorIntegration\n    - trait: pub::ConnectorCommonExt\n    - trait: pub::ConnectorIntegrationAny\n    - trait: pub::AuthServiceConnector\n    - trait: pub::ConnectorCommon\n    - impl: impl ConnectorIntegrationAny<T, Req, Resp> for S\n    - impl: impl AuthServiceConnector for T\n    - mod: pub::auth_service\n\n**auth_service.rs**\n  Add:\n    - struct: pub::LinkToken\n    - struct: pub::ExchangeToken\n    - struct: pub::BankAccountCredentials\n    - trait: pub::AuthService\n    - trait: pub::AuthServiceLinkToken\n    - trait: pub::AuthServiceExchangeToken\n    - trait: pub::AuthServiceBankAccountCredentials\n\n**settings.rs**\n  Add:\n    - struct: pub::PaymentMethodAuth\n\n**core.rs**\n  Add:\n    - mod: pub::errors\n\n**admin.rs**\n  Add:\n    - function: private::validate_pm_auth\n\n**payment_methods.rs**\n  Modify existing code\n\n**cards.rs**\n  Modify existing code\n\n**pm_auth.rs**\n  Add:\n    - struct: pub::LinkTokenCreateRequest\n    - struct: pub::LinkTokenCreateResponse\n    - struct: pub::ExchangeTokenCreateRequest\n    - struct: pub::ExchangeTokenCreateResponse\n    - struct: pub::PaymentMethodAuthConfig\n    - struct: pub::PaymentMethodAuthConnectorChoice\n\n**helpers.rs**\n  Add:\n    - function: pub::get_connector_auth_type\n    - trait: pub::PaymentAuthConnectorDataExt\n\n**transformers.rs**\n  Add:\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - struct: pub::PlaidLinkTokenRequest\n    - struct: pub::User\n    - struct: pub::PlaidLinkTokenResponse\n    - struct: pub::PlaidExchangeTokenRequest\n    - struct: pub::PlaidExchangeTokenResponse\n    - struct: pub::PlaidBankAccountCredentialsRequest\n    - struct: pub::PlaidBankAccountCredentialsResponse\n    - struct: pub::BankAccountCredentialsOptions\n    - struct: pub::PlaidBankAccountCredentialsAccounts\n    - struct: pub::PlaidBankAccountCredentialsBalances\n    - struct: pub::PlaidBankAccountCredentialsNumbers\n    - struct: pub::PlaidBankAccountCredentialsItem\n    - struct: pub::PlaidBankAccountCredentialsACH\n    - struct: pub::PlaidBankAccountCredentialsEFT\n    - struct: pub::PlaidBankAccountCredentialsInternational\n    - struct: pub::PlaidBankAccountCredentialsBacs\n    - struct: pub::PlaidAuthType\n    - struct: pub::PlaidErrorResponse\n    - impl: impl TryFrom<&types::LinkTokenRouterData> for PlaidLinkTokenRequest\n    - impl: impl TryFrom<types::ResponseRouterData<F, PlaidLinkTokenResponse, T, types::LinkTokenResponse>> for types::PaymentAuthRouterData<F, T, types::LinkTokenResponse>\n    - impl: impl TryFrom<\ntypes::ResponseRouterData<F, PlaidExchangeTokenResponse, T, types::ExchangeTokenResponse>,\n> for types::PaymentAuthRouterData<F, T, types::ExchangeTokenResponse>\n    - impl: impl TryFrom<&types::ExchangeTokenRouterData> for PlaidExchangeTokenRequest\n    - impl: impl TryFrom<&types::BankDetailsRouterData> for PlaidBankAccountCredentialsRequest\n    - impl: impl TryFrom<\ntypes::ResponseRouterData<\nF,\nPlaidBankAccountCredentialsResponse,\nT,\ntypes::BankAccountCredentialsResponse,\n>,\n> for types::PaymentAuthRouterData<F, T, types::BankAccountCredentialsResponse>\n    - impl: impl TryFrom<&types::ConnectorAuthType> for PlaidAuthType\n\n**routes.rs**\n  Add:\n    - mod: pub::pm_auth\n\n**app.rs**\n  Modify existing code\n\n**lock_utils.rs**\n  Modify existing code\n\n**pm_auth.rs**\n  Add:\n    - struct: pub::LinkTokenCreateRequest\n    - struct: pub::LinkTokenCreateResponse\n    - struct: pub::ExchangeTokenCreateRequest\n    - struct: pub::ExchangeTokenCreateResponse\n    - struct: pub::PaymentMethodAuthConfig\n    - struct: pub::PaymentMethodAuthConnectorChoice\n\n**services.rs**\n  Add:\n    - mod: pub::pm_auth\n\n**authentication.rs**\n  Add:\n    - function: private::get_client_secret\n    - function: private::get_client_secret\n    - impl: impl ClientSecretFetch for api_models::pm_auth::LinkTokenCreateRequest\n    - impl: impl ClientSecretFetch for api_models::pm_auth::ExchangeTokenCreateRequest\n\n**pm_auth.rs**\n  Add:\n    - struct: pub::LinkTokenCreateRequest\n    - struct: pub::LinkTokenCreateResponse\n    - struct: pub::ExchangeTokenCreateRequest\n    - struct: pub::ExchangeTokenCreateResponse\n    - struct: pub::PaymentMethodAuthConfig\n    - struct: pub::PaymentMethodAuthConnectorChoice\n\n**types.rs**\n  Add:\n    - function: private::from\n    - function: private::get_not_implemented\n    - struct: pub::PaymentAuthRouterData\n    - struct: pub::LinkTokenRequest\n    - struct: pub::LinkTokenResponse\n    - struct: pub::ExchangeTokenRequest\n    - struct: pub::ExchangeTokenResponse\n    - struct: pub::BankAccountCredentialsRequest\n    - struct: pub::BankAccountOptionalIDs\n    - struct: pub::BankAccountCredentialsResponse\n    - struct: pub::BankAccountDetails\n    - struct: pub::ResponseRouterData\n    - struct: pub::ErrorResponse\n    - struct: pub::Response\n    - struct: pub::AuthServiceQueryParam\n    - enum: pub::PaymentMethodAuthConnectors\n    - enum: pub::ConnectorAuthType\n    - impl: impl From<ExchangeTokenResponse> for api_models::pm_auth::ExchangeTokenCreateResponse\n    - impl: impl ErrorResponse\n    - mod: pub::api\n\n**pm_auth.rs**\n  Add:\n    - struct: pub::LinkTokenCreateRequest\n    - struct: pub::LinkTokenCreateResponse\n    - struct: pub::ExchangeTokenCreateRequest\n    - struct: pub::ExchangeTokenCreateResponse\n    - struct: pub::PaymentMethodAuthConfig\n    - struct: pub::PaymentMethodAuthConnectorChoice\n\n**types.rs**\n  Add:\n    - function: private::from\n    - function: private::get_not_implemented\n    - struct: pub::PaymentAuthRouterData\n    - struct: pub::LinkTokenRequest\n    - struct: pub::LinkTokenResponse\n    - struct: pub::ExchangeTokenRequest\n    - struct: pub::ExchangeTokenResponse\n    - struct: pub::BankAccountCredentialsRequest\n    - struct: pub::BankAccountOptionalIDs\n    - struct: pub::BankAccountCredentialsResponse\n    - struct: pub::BankAccountDetails\n    - struct: pub::ResponseRouterData\n    - struct: pub::ErrorResponse\n    - struct: pub::Response\n    - struct: pub::AuthServiceQueryParam\n    - enum: pub::PaymentMethodAuthConnectors\n    - enum: pub::ConnectorAuthType\n    - impl: impl From<ExchangeTokenResponse> for api_models::pm_auth::ExchangeTokenCreateResponse\n    - impl: impl ErrorResponse\n    - mod: pub::api"}
