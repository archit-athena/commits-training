{"prompt": "feat(router): add payment incoming webhooks support for v2 (#6551)\n\nCo-authored-by: Narayan Bhat <narayan.bhat@juspay.in>\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>\nCo-authored-by: hrithikesh026 <hrithikesh.vm@juspay.in>", "response": "Files to modify:\n\n\n**payments.rs**\n  Add:\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::expecting\n    - function: private::visit_some\n    - function: private::visit_none\n    - function: private::visit_unit\n    - function: pub::deserialize\n    - function: pub::deserialize_option\n    - struct: private::PaymentIdVisitor\n    - struct: private::OptionalPaymentIdVisitor\n    - enum: pub::PaymentIdType\n    - impl: impl Visitor<'de> for PaymentIdVisitor\n    - impl: impl Visitor<'de> for OptionalPaymentIdVisitor\n    - mod: private::payment_id_type\n\n**webhooks.rs**\n  Add:\n    - function: pub::get_payment_id\n    - enum: pub::OutgoingWebhookContent\n\n**events.rs**\n  Modify existing code\n\n**payment.rs**\n  Add:\n    - function: private::try_from\n    - impl: impl TryFrom<std::borrow::Cow<'static, str>> for GlobalAttemptId\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::expecting\n    - function: private::visit_some\n    - function: private::visit_none\n    - function: private::visit_unit\n    - function: pub::deserialize\n    - function: pub::deserialize_option\n    - struct: private::PaymentIdVisitor\n    - struct: private::OptionalPaymentIdVisitor\n    - enum: pub::PaymentIdType\n    - impl: impl Visitor<'de> for PaymentIdVisitor\n    - impl: impl Visitor<'de> for OptionalPaymentIdVisitor\n    - mod: private::payment_id_type\n\n**payment_attempt.rs**\n  Modify existing code\n\n**router_data.rs**\n  Modify existing code\n\n**core.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::expecting\n    - function: private::visit_some\n    - function: private::visit_none\n    - function: private::visit_unit\n    - function: pub::deserialize\n    - function: pub::deserialize_option\n    - struct: private::PaymentIdVisitor\n    - struct: private::OptionalPaymentIdVisitor\n    - enum: pub::PaymentIdType\n    - impl: impl Visitor<'de> for PaymentIdVisitor\n    - impl: impl Visitor<'de> for OptionalPaymentIdVisitor\n    - mod: private::payment_id_type\n\n**webhooks.rs**\n  Add:\n    - function: pub::get_payment_id\n    - enum: pub::OutgoingWebhookContent\n\n**incoming_v2.rs**\n  Add:\n    - function: pub::incoming_webhooks_wrapper\n    - function: private::incoming_webhooks_core\n    - function: private::payments_incoming_webhook_flow\n    - function: private::get_trackers_response_for_payment_get_operation\n    - function: private::verify_webhook_source_verification_call\n    - function: private::get_connector_by_connector_name\n    - function: private::fetch_mca_and_connector\n\n**webhook_events.rs**\n  Modify existing code\n\n**kafka_store.rs**\n  Add:\n    - function: private::find_payment_attempt_by_profile_id_connector_transaction_id\n\n**outgoing_webhook_logs.rs**\n  Add:\n    - function: private::get_outgoing_webhook_event_content\n    - impl: impl OutgoingWebhookEventMetric for OutgoingWebhookContent\n\n**lib.rs**\n  Modify existing code\n\n**routes.rs**\n  Modify existing code\n\n**app.rs**\n  Add:\n    - function: pub::server\n    - impl: impl Webhooks\n\n**webhook_events.rs**\n  Modify existing code\n\n**webhooks.rs**\n  Add:\n    - function: pub::get_payment_id\n    - enum: pub::OutgoingWebhookContent\n\n**authentication.rs**\n  Add:\n    - function: private::authenticate_and_fetch\n    - struct: pub::MerchantIdAndProfileIdAuth\n    - impl: impl AuthenticateAndFetch<AuthenticationData, A> for MerchantIdAndProfileIdAuth\n\n**payments.rs**\n  Add:\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::expecting\n    - function: private::visit_some\n    - function: private::visit_none\n    - function: private::visit_unit\n    - function: pub::deserialize\n    - function: pub::deserialize_option\n    - struct: private::PaymentIdVisitor\n    - struct: private::OptionalPaymentIdVisitor\n    - enum: pub::PaymentIdType\n    - impl: impl Visitor<'de> for PaymentIdVisitor\n    - impl: impl Visitor<'de> for OptionalPaymentIdVisitor\n    - mod: private::payment_id_type\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code"}
