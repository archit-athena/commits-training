{"prompt": "feat(analytics): refactor and introduce analytics APIs to accommodate OrgLevel, MerchantLevel and ProfileLevel authentication (#5729)\n\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>\nCo-authored-by: Sampras Lopes <sampras.lopes@juspay.in>", "response": "Files to modify:\n\n\n**core.rs**\n  Modify existing code\n\n**filters.rs**\n  Modify existing code\n\n**metrics.rs**\n  Modify existing code\n\n**api_count.rs**\n  Modify existing code\n\n**latency.rs**\n  Modify existing code\n\n**status_code_count.rs**\n  Modify existing code\n\n**clickhouse.rs**\n  Modify existing code\n\n**core.rs**\n  Modify existing code\n\n**filters.rs**\n  Modify existing code\n\n**metrics.rs**\n  Modify existing code\n\n**dispute_status_metric.rs**\n  Modify existing code\n\n**total_amount_disputed.rs**\n  Modify existing code\n\n**total_dispute_lost_amount.rs**\n  Modify existing code\n\n**enums.rs**\n  Modify existing code\n\n**errors.rs**\n  Modify existing code\n\n**lib.rs**\n  Remove:\n    - mod: pub::active_payments\n    - mod: pub::api_event\n    - mod: pub::auth_events\n    - mod: pub::connector_events\n    - mod: pub::health_check\n    - mod: pub::opensearch\n    - mod: pub::outgoing_webhook_event\n  Add:\n    - mod: pub::active_payments\n    - mod: pub::api_event\n    - mod: pub::auth_events\n    - mod: pub::connector_events\n    - mod: pub::enums\n    - mod: pub::health_check\n    - mod: pub::opensearch\n    - mod: pub::outgoing_webhook_event\n\n**events.rs**\n  Modify existing code\n\n**core.rs**\n  Modify existing code\n\n**filters.rs**\n  Modify existing code\n\n**metrics.rs**\n  Modify existing code\n\n**payment_intent_count.rs**\n  Modify existing code\n\n**smart_retried_amount.rs**\n  Modify existing code\n\n**successful_smart_retries.rs**\n  Modify existing code\n\n**total_smart_retries.rs**\n  Modify existing code\n\n**types.rs**\n  Modify existing code\n\n**core.rs**\n  Modify existing code\n\n**distribution.rs**\n  Modify existing code\n\n**payment_error_message.rs**\n  Modify existing code\n\n**filters.rs**\n  Modify existing code\n\n**metrics.rs**\n  Modify existing code\n\n**avg_ticket_size.rs**\n  Modify existing code\n\n**connector_success_rate.rs**\n  Modify existing code\n\n**payment_count.rs**\n  Modify existing code\n\n**payment_processed_amount.rs**\n  Modify existing code\n\n**payment_success_count.rs**\n  Modify existing code\n\n**retries_count.rs**\n  Modify existing code\n\n**success_rate.rs**\n  Modify existing code\n\n**types.rs**\n  Modify existing code\n\n**query.rs**\n  Remove:\n    - impl: impl ToSql<T> for &common_utils::id_type::MerchantId\n  Add:\n    - function: private::to_sql\n    - function: private::to_sql\n    - function: private::to_sql\n    - function: private::set_filter_clause\n    - impl: impl ToSql<T> for &MerchantId\n    - impl: impl ToSql<T> for MerchantId\n    - impl: impl ToSql<T> for &OrganizationId\n    - impl: impl ToSql<T> for ProfileId\n    - impl: impl QueryFilter<T> for AuthInfo\n\n**core.rs**\n  Modify existing code\n\n**filters.rs**\n  Modify existing code\n\n**metrics.rs**\n  Modify existing code\n\n**refund_count.rs**\n  Modify existing code\n\n**refund_processed_amount.rs**\n  Modify existing code\n\n**refund_success_count.rs**\n  Modify existing code\n\n**refund_success_rate.rs**\n  Modify existing code\n\n**types.rs**\n  Modify existing code\n\n**sqlx.rs**\n  Add:\n    - impl: impl FromRow<'a, PgRow> for super::payments::filters::PaymentFilterRow\n\n**analytics.rs**\n  Modify existing code\n\n**connector_events.rs**\n  Modify existing code\n\n**payment_intents.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**refunds.rs**\n  Modify existing code\n\n**types.rs**\n  Modify existing code\n\n**authentication.rs**\n  Add:\n    - enum: pub::AuthInfo\n\n**merchant_account.rs**\n  Add:\n    - function: pub::get_org_id\n\n**analytics.rs**\n  Modify existing code\n\n**utils.rs**\n  Add:\n    - function: pub::check_if_profile_id_is_present_in_payment_intent\n\n**user.rs**\n  Modify existing code"}
