{"prompt": "db: Added Reverse lookup table (#147)", "response": "Files to modify:\n\n\n**payments.rs**\n  Modify existing code\n\n**lib.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**commands.rs**\n  Add:\n    - function: pub::hscan\n    - function: pub::hscan_and_deserialize\n\n**utils.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**helpers.rs**\n  Modify existing code\n\n**payment_cancel.rs**\n  Modify existing code\n\n**payment_capture.rs**\n  Modify existing code\n\n**payment_confirm.rs**\n  Modify existing code\n\n**payment_create.rs**\n  Modify existing code\n\n**payment_method_validate.rs**\n  Modify existing code\n\n**payment_session.rs**\n  Modify existing code\n\n**payment_start.rs**\n  Modify existing code\n\n**payment_status.rs**\n  Modify existing code\n\n**payment_update.rs**\n  Modify existing code\n\n**refunds.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**db.rs**\n  Add:\n    - mod: pub::reverse_lookup\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code\n\n**refund.rs**\n  Remove:\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n  Add:\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n    - function: private::find_refund_by_merchant_id_refund_id\n    - function: private::find_refund_by_payment_id_merchant_id\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n    - function: private::find_refund_by_merchant_id_refund_id\n    - function: private::find_refund_by_payment_id_merchant_id\n    - impl: impl RefundInterface for Store\n\n**reverse_lookup.rs**\n  Add:\n    - function: private::insert_reverse_lookup\n    - function: private::get_lookup_by_lookup_id\n    - function: private::insert_reverse_lookup\n    - function: private::get_lookup_by_lookup_id\n    - trait: pub::ReverseLookupInterface\n    - impl: impl ReverseLookupInterface for Store\n    - impl: impl ReverseLookupInterface for MockDb\n\n**services.rs**\n  Modify existing code\n\n**api.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**storage.rs**\n  Add:\n    - mod: pub::reverse_lookup\n\n**kv.rs**\n  Modify existing code\n\n**refund.rs**\n  Remove:\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n  Add:\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n    - function: private::find_refund_by_merchant_id_refund_id\n    - function: private::find_refund_by_payment_id_merchant_id\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n    - function: private::find_refund_by_merchant_id_refund_id\n    - function: private::find_refund_by_payment_id_merchant_id\n    - impl: impl RefundInterface for Store\n\n**reverse_lookup.rs**\n  Add:\n    - function: private::insert_reverse_lookup\n    - function: private::get_lookup_by_lookup_id\n    - function: private::insert_reverse_lookup\n    - function: private::get_lookup_by_lookup_id\n    - trait: pub::ReverseLookupInterface\n    - impl: impl ReverseLookupInterface for Store\n    - impl: impl ReverseLookupInterface for MockDb\n\n**utils.rs**\n  Modify existing code\n\n**db_utils.rs**\n  Add:\n    - function: pub::generate_hscan_pattern_for_refund\n\n**enums.rs**\n  Modify existing code\n\n**kv.rs**\n  Modify existing code\n\n**lib.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code\n\n**query.rs**\n  Add:\n    - mod: pub::reverse_lookup\n\n**payment_attempt.rs**\n  Modify existing code\n\n**refund.rs**\n  Remove:\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n  Add:\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n    - function: private::find_refund_by_merchant_id_refund_id\n    - function: private::find_refund_by_payment_id_merchant_id\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n    - function: private::find_refund_by_merchant_id_refund_id\n    - function: private::find_refund_by_payment_id_merchant_id\n    - impl: impl RefundInterface for Store\n\n**reverse_lookup.rs**\n  Add:\n    - function: private::insert_reverse_lookup\n    - function: private::get_lookup_by_lookup_id\n    - function: private::insert_reverse_lookup\n    - function: private::get_lookup_by_lookup_id\n    - trait: pub::ReverseLookupInterface\n    - impl: impl ReverseLookupInterface for Store\n    - impl: impl ReverseLookupInterface for MockDb\n\n**refund.rs**\n  Remove:\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n  Add:\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n    - function: private::find_refund_by_merchant_id_refund_id\n    - function: private::find_refund_by_payment_id_merchant_id\n    - function: private::find_refund_by_internal_reference_id_merchant_id\n    - function: private::insert_refund\n    - function: private::find_refund_by_merchant_id_transaction_id\n    - function: private::update_refund\n    - function: private::find_refund_by_merchant_id_refund_id\n    - function: private::find_refund_by_payment_id_merchant_id\n    - impl: impl RefundInterface for Store\n\n**reverse_lookup.rs**\n  Add:\n    - function: private::insert_reverse_lookup\n    - function: private::get_lookup_by_lookup_id\n    - function: private::insert_reverse_lookup\n    - function: private::get_lookup_by_lookup_id\n    - trait: pub::ReverseLookupInterface\n    - impl: impl ReverseLookupInterface for Store\n    - impl: impl ReverseLookupInterface for MockDb\n\n**schema.rs**\n  Modify existing code"}
