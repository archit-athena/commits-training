{"prompt": "feat(router): implement API endpoints for managing API keys (#511)", "response": "Files to modify:\n\n\n**api_keys.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - function: pub::serialize\n    - function: pub::deserialize\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::schema\n    - function: private::test_serialization\n    - function: private::test_deserialization\n    - function: private::test_null\n    - struct: pub::CreateApiKeyRequest\n    - struct: pub::CreateApiKeyResponse\n    - struct: pub::RetrieveApiKeyResponse\n    - struct: pub::UpdateApiKeyRequest\n    - struct: pub::RevokeApiKeyResponse\n    - struct: pub::ListApiKeyConstraints\n    - struct: private::NeverVisitor\n    - enum: pub::ApiKeyExpiration\n    - impl: impl From<ApiKeyExpiration> for Option<PrimitiveDateTime>\n    - impl: impl From<Option<PrimitiveDateTime>> for ApiKeyExpiration\n    - impl: impl serde::de::Visitor<'de> for NeverVisitor\n    - impl: impl ToSchema<'a> for ApiKeyExpiration\n    - mod: private::never\n    - mod: private::api_key_expiration_tests\n\n**lib.rs**\n  Add:\n    - mod: pub::api_keys\n\n**crypto.rs**\n  Add:\n    - function: pub::generate_cryptographically_secure_random_string\n    - function: pub::generate_cryptographically_secure_random_bytes\n\n**errors.rs**\n  Modify existing code\n\n**consts.rs**\n  Modify existing code\n\n**core.rs**\n  Add:\n    - mod: pub::api_keys\n\n**admin.rs**\n  Modify existing code\n\n**api_keys.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - function: pub::serialize\n    - function: pub::deserialize\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::schema\n    - function: private::test_serialization\n    - function: private::test_deserialization\n    - function: private::test_null\n    - struct: pub::CreateApiKeyRequest\n    - struct: pub::CreateApiKeyResponse\n    - struct: pub::RetrieveApiKeyResponse\n    - struct: pub::UpdateApiKeyRequest\n    - struct: pub::RevokeApiKeyResponse\n    - struct: pub::ListApiKeyConstraints\n    - struct: private::NeverVisitor\n    - enum: pub::ApiKeyExpiration\n    - impl: impl From<ApiKeyExpiration> for Option<PrimitiveDateTime>\n    - impl: impl From<Option<PrimitiveDateTime>> for ApiKeyExpiration\n    - impl: impl serde::de::Visitor<'de> for NeverVisitor\n    - impl: impl ToSchema<'a> for ApiKeyExpiration\n    - mod: private::never\n    - mod: private::api_key_expiration_tests\n\n**errors.rs**\n  Modify existing code\n\n**api_error_response.rs**\n  Modify existing code\n\n**db.rs**\n  Add:\n    - mod: pub::api_keys\n\n**api_keys.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - function: pub::serialize\n    - function: pub::deserialize\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::schema\n    - function: private::test_serialization\n    - function: private::test_deserialization\n    - function: private::test_null\n    - struct: pub::CreateApiKeyRequest\n    - struct: pub::CreateApiKeyResponse\n    - struct: pub::RetrieveApiKeyResponse\n    - struct: pub::UpdateApiKeyRequest\n    - struct: pub::RevokeApiKeyResponse\n    - struct: pub::ListApiKeyConstraints\n    - struct: private::NeverVisitor\n    - enum: pub::ApiKeyExpiration\n    - impl: impl From<ApiKeyExpiration> for Option<PrimitiveDateTime>\n    - impl: impl From<Option<PrimitiveDateTime>> for ApiKeyExpiration\n    - impl: impl serde::de::Visitor<'de> for NeverVisitor\n    - impl: impl ToSchema<'a> for ApiKeyExpiration\n    - mod: private::never\n    - mod: private::api_key_expiration_tests\n\n**lib.rs**\n  Add:\n    - mod: pub::api_keys\n\n**openapi.rs**\n  Modify existing code\n\n**routes.rs**\n  Add:\n    - mod: pub::api_keys\n\n**api_keys.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - function: pub::serialize\n    - function: pub::deserialize\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::schema\n    - function: private::test_serialization\n    - function: private::test_deserialization\n    - function: private::test_null\n    - struct: pub::CreateApiKeyRequest\n    - struct: pub::CreateApiKeyResponse\n    - struct: pub::RetrieveApiKeyResponse\n    - struct: pub::UpdateApiKeyRequest\n    - struct: pub::RevokeApiKeyResponse\n    - struct: pub::ListApiKeyConstraints\n    - struct: private::NeverVisitor\n    - enum: pub::ApiKeyExpiration\n    - impl: impl From<ApiKeyExpiration> for Option<PrimitiveDateTime>\n    - impl: impl From<Option<PrimitiveDateTime>> for ApiKeyExpiration\n    - impl: impl serde::de::Visitor<'de> for NeverVisitor\n    - impl: impl ToSchema<'a> for ApiKeyExpiration\n    - mod: private::never\n    - mod: private::api_key_expiration_tests\n\n**app.rs**\n  Add:\n    - function: pub::server\n    - struct: pub::ApiKeys\n    - impl: impl ApiKeys\n\n**api.rs**\n  Add:\n    - mod: pub::api_keys\n\n**api_keys.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - function: pub::serialize\n    - function: pub::deserialize\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::schema\n    - function: private::test_serialization\n    - function: private::test_deserialization\n    - function: private::test_null\n    - struct: pub::CreateApiKeyRequest\n    - struct: pub::CreateApiKeyResponse\n    - struct: pub::RetrieveApiKeyResponse\n    - struct: pub::UpdateApiKeyRequest\n    - struct: pub::RevokeApiKeyResponse\n    - struct: pub::ListApiKeyConstraints\n    - struct: private::NeverVisitor\n    - enum: pub::ApiKeyExpiration\n    - impl: impl From<ApiKeyExpiration> for Option<PrimitiveDateTime>\n    - impl: impl From<Option<PrimitiveDateTime>> for ApiKeyExpiration\n    - impl: impl serde::de::Visitor<'de> for NeverVisitor\n    - impl: impl ToSchema<'a> for ApiKeyExpiration\n    - mod: private::never\n    - mod: private::api_key_expiration_tests\n\n**storage.rs**\n  Add:\n    - mod: pub::api_keys\n\n**api_keys.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - function: pub::serialize\n    - function: pub::deserialize\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::schema\n    - function: private::test_serialization\n    - function: private::test_deserialization\n    - function: private::test_null\n    - struct: pub::CreateApiKeyRequest\n    - struct: pub::CreateApiKeyResponse\n    - struct: pub::RetrieveApiKeyResponse\n    - struct: pub::UpdateApiKeyRequest\n    - struct: pub::RevokeApiKeyResponse\n    - struct: pub::ListApiKeyConstraints\n    - struct: private::NeverVisitor\n    - enum: pub::ApiKeyExpiration\n    - impl: impl From<ApiKeyExpiration> for Option<PrimitiveDateTime>\n    - impl: impl From<Option<PrimitiveDateTime>> for ApiKeyExpiration\n    - impl: impl serde::de::Visitor<'de> for NeverVisitor\n    - impl: impl ToSchema<'a> for ApiKeyExpiration\n    - mod: private::never\n    - mod: private::api_key_expiration_tests\n\n**transformers.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - function: private::from\n    - impl: impl From<\nF<(\nstorage_models::api_keys::ApiKey,\ncrate::core::api_keys::PlaintextApiKey,\n)>,\n> for F<api_models::api_keys::CreateApiKeyResponse>\n    - impl: impl From<F<storage_models::api_keys::ApiKey>> for F<api_models::api_keys::RetrieveApiKeyResponse>\n    - impl: impl From<F<api_models::api_keys::UpdateApiKeyRequest>> for F<storage_models::api_keys::ApiKeyUpdate>\n\n**env.rs**\n  Add:\n    - function: pub::prefix_for_env\n\n**types.rs**\n  Modify existing code\n\n**api_keys.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - function: pub::serialize\n    - function: pub::deserialize\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::schema\n    - function: private::test_serialization\n    - function: private::test_deserialization\n    - function: private::test_null\n    - struct: pub::CreateApiKeyRequest\n    - struct: pub::CreateApiKeyResponse\n    - struct: pub::RetrieveApiKeyResponse\n    - struct: pub::UpdateApiKeyRequest\n    - struct: pub::RevokeApiKeyResponse\n    - struct: pub::ListApiKeyConstraints\n    - struct: private::NeverVisitor\n    - enum: pub::ApiKeyExpiration\n    - impl: impl From<ApiKeyExpiration> for Option<PrimitiveDateTime>\n    - impl: impl From<Option<PrimitiveDateTime>> for ApiKeyExpiration\n    - impl: impl serde::de::Visitor<'de> for NeverVisitor\n    - impl: impl ToSchema<'a> for ApiKeyExpiration\n    - mod: private::never\n    - mod: private::api_key_expiration_tests\n\n**lib.rs**\n  Add:\n    - mod: pub::api_keys\n\n**query.rs**\n  Add:\n    - mod: pub::api_keys\n\n**api_keys.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - function: pub::serialize\n    - function: pub::deserialize\n    - function: private::expecting\n    - function: private::visit_str\n    - function: private::schema\n    - function: private::test_serialization\n    - function: private::test_deserialization\n    - function: private::test_null\n    - struct: pub::CreateApiKeyRequest\n    - struct: pub::CreateApiKeyResponse\n    - struct: pub::RetrieveApiKeyResponse\n    - struct: pub::UpdateApiKeyRequest\n    - struct: pub::RevokeApiKeyResponse\n    - struct: pub::ListApiKeyConstraints\n    - struct: private::NeverVisitor\n    - enum: pub::ApiKeyExpiration\n    - impl: impl From<ApiKeyExpiration> for Option<PrimitiveDateTime>\n    - impl: impl From<Option<PrimitiveDateTime>> for ApiKeyExpiration\n    - impl: impl serde::de::Visitor<'de> for NeverVisitor\n    - impl: impl ToSchema<'a> for ApiKeyExpiration\n    - mod: private::never\n    - mod: private::api_key_expiration_tests\n\n**schema.rs**\n  Modify existing code"}
