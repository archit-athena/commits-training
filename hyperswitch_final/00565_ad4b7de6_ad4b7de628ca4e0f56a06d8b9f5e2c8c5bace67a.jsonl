{"prompt": "refactor(storage_impl): split payment attempt models to domain + diesel (#2010)\n\nSigned-off-by: chikke srujan <121822803+srujanchikke@users.noreply.github.com>\nCo-authored-by: Mani Chandra <84711804+ThisIsMani@users.noreply.github.com>\nCo-authored-by: Arjun Karthik <m.arjunkarthik@gmail.com>\nCo-authored-by: Sai Harsha Vardhan <56996463+sai-harsha-vardhan@users.noreply.github.com>\nCo-authored-by: Sanchith Hegde <22217505+SanchithHegde@users.noreply.github.com>\nCo-authored-by: chikke srujan <121822803+srujanchikke@users.noreply.github.com>\nCo-authored-by: Prasunna Soppa <prasunna.soppa@juspay.in>\nCo-authored-by: github-actions <41898282+github-actions[bot]@users.noreply.github.com>\nCo-authored-by: DEEPANSHU BANSAL <41580413+deepanshu-iiitu@users.noreply.github.com>\nCo-authored-by: Arvind Patel <52006565+arvindpatel24@users.noreply.github.com>\nCo-authored-by: Jagan Elavarasan <jaganelavarasan@gmail.com>\nCo-authored-by: arvindpatel24 <arvind.patel@juspay.in>\nCo-authored-by: anji-reddy-j <125157119+anji-reddy-j@users.noreply.github.com>\nCo-authored-by: Hrithikesh <61539176+hrithikesh026@users.noreply.github.com>\nCo-authored-by: Apoorv Dixit <64925866+apoorvdixit88@users.noreply.github.com>\nCo-authored-by: Pa1NarK <69745008+pixincreate@users.noreply.github.com>", "response": "Files to modify:\n\n\n**mandates.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - function: private::from\n    - function: private::from\n    - function: private::from\n    - function: private::from\n    - function: pub::get_ip_address\n    - function: pub::get_user_agent\n    - function: pub::get_accepted_at\n    - function: pub::get_end_date\n    - function: pub::get_metadata\n    - struct: pub::MandateData\n    - struct: pub::CustomerAcceptance\n    - struct: pub::OnlineMandate\n    - enum: pub::AcceptanceType\n    - impl: impl From<MandateType> for MandateDataType\n    - impl: impl From<ApiMandateAmountData> for MandateAmountData\n    - impl: impl From<ApiMandateData> for MandateData\n    - impl: impl From<ApiCustomerAcceptance> for CustomerAcceptance\n    - impl: impl From<ApiAcceptanceType> for AcceptanceType\n    - impl: impl From<ApiOnlineMandate> for OnlineMandate\n    - impl: impl CustomerAcceptance\n    - impl: impl MandateAmountData\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code\n\n**transformers.rs**\n  Modify existing code\n\n**transformers.rs**\n  Modify existing code\n\n**mandate.rs**\n  Modify existing code\n\n**cards.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**authorize_flow.rs**\n  Modify existing code\n\n**verify_flow.rs**\n  Modify existing code\n\n**helpers.rs**\n  Modify existing code\n\n**payment_approve.rs**\n  Modify existing code\n\n**payment_capture.rs**\n  Modify existing code\n\n**payment_complete_authorize.rs**\n  Modify existing code\n\n**payment_confirm.rs**\n  Modify existing code\n\n**payment_create.rs**\n  Modify existing code\n\n**payment_method_validate.rs**\n  Modify existing code\n\n**payment_status.rs**\n  Modify existing code\n\n**payment_update.rs**\n  Modify existing code\n\n**transformers.rs**\n  Modify existing code\n\n**validator.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**webhooks.rs**\n  Modify existing code\n\n**db.rs**\n  Remove:\n    - mod: pub::payment_attempt\n\n**api_keys.rs**\n  Modify existing code\n\n**dispute.rs**\n  Modify existing code\n\n**events.rs**\n  Modify existing code\n\n**locker_mock_up.rs**\n  Modify existing code\n\n**merchant_connector_account.rs**\n  Modify existing code\n\n**merchant_key_store.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code\n\n**app.rs**\n  Modify existing code\n\n**types.rs**\n  Modify existing code\n\n**api.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**storage.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code\n\n**transformers.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**db_utils.rs**\n  Remove:\n    - function: pub::generate_hscan_pattern_for_attempt\n\n**process_tracker.rs**\n  Modify existing code\n\n**queue.rs**\n  Modify existing code\n\n**scheduler.rs**\n  Modify existing code\n\n**lib.rs**\n  Remove:\n    - function: pub::new\n    - function: private::get_redis_conn\n    - struct: pub::MockDb\n    - impl: impl MockDb\n    - impl: impl RedisConnInterface for MockDb\n  Add:\n    - mod: private::lookup\n    - mod: pub::mock_db\n\n**lookup.rs**\n  Add:\n    - function: private::insert_reverse_lookup\n    - function: private::get_lookup_by_lookup_id\n    - function: private::insert_reverse_lookup\n    - function: private::get_lookup_by_lookup_id\n    - trait: pub::ReverseLookupInterface\n    - impl: impl ReverseLookupInterface for RouterStore<T>\n    - impl: impl ReverseLookupInterface for KVRouterStore<T>\n\n**mock_db.rs**\n  Add:\n    - function: pub::new\n    - struct: pub::MockDb\n    - impl: impl MockDb\n    - mod: pub::payment_attempt\n    - mod: pub::payment_intent\n    - mod: pub::redis_conn\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code\n\n**redis_conn.rs**\n  Add:\n    - function: private::get_redis_conn\n    - impl: impl RedisConnInterface for MockDb\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code\n\n**cache.rs**\n  Add:\n    - function: pub::get_or_populate_redis\n    - function: pub::get_or_populate_in_memory\n    - function: pub::redact_cache\n    - function: pub::publish_into_redact_channel\n    - function: pub::publish_and_redact\n\n**utils.rs**\n  Modify existing code"}
