{"prompt": "feat(router): added dispute accept api, file module apis and dispute evidence submission api  (#900)\n\nCo-authored-by: Sangamesh <sangamesh.kulkarni@juspay.in>\nCo-authored-by: sai harsha <sai.harsha@sai.harsha-MacBookPro>\nCo-authored-by: Arun Raj M <jarnura47@gmail.com>", "response": "Files to modify:\n\n\n**disputes.rs**\n  Add:\n    - struct: pub::SubmitEvidenceRequest\n\n**enums.rs**\n  Add:\n    - function: pub::supports_file_storage_module\n\n**files.rs**\n  Add:\n    - struct: pub::CreateFileResponse\n\n**errors.rs**\n  Modify existing code\n\n**wrap.rs**\n  Modify existing code\n\n**settings.rs**\n  Add:\n    - struct: pub::ConnectorParamsWithFileUploadUrl\n    - struct: pub::FileUploadConfig\n\n**validations.rs**\n  Add:\n    - function: pub::validate\n    - function: pub::validate\n    - impl: impl super::settings::ConnectorParamsWithFileUploadUrl\n    - impl: impl super::settings::FileUploadConfig\n\n**checkout.rs**\n  Add:\n    - function: private::get_headers\n    - function: private::get_url\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::validate_file_upload\n    - impl: impl api::AcceptDispute for Checkout\n    - impl: impl api::Dispute for Checkout\n    - impl: impl ConnectorIntegration<api::Accept, types::AcceptDisputeRequestData, types::AcceptDisputeResponse> for Checkout\n    - impl: impl api::UploadFile for Checkout\n    - impl: impl ConnectorIntegration<api::Upload, types::UploadFileRequestData, types::UploadFileResponse> for Checkout\n    - impl: impl api::FileUpload for Checkout\n\n**stripe.rs**\n  Add:\n    - function: private::validate_file_upload\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_form_data\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - impl: impl api::UploadFile for Stripe\n    - impl: impl api::FileUpload for Stripe\n    - impl: impl services::ConnectorIntegration<\napi::Upload,\ntypes::UploadFileRequestData,\ntypes::UploadFileResponse,\n> for Stripe\n    - impl: impl api::SubmitEvidence for Stripe\n    - impl: impl services::ConnectorIntegration<\napi::Evidence,\ntypes::SubmitEvidenceRequestData,\ntypes::SubmitEvidenceResponse,\n> for Stripe\n\n**transformers.rs**\n  Add:\n    - function: pub::construct_file_upload_request\n    - function: private::try_from\n    - struct: pub::FileUploadResponse\n    - struct: pub::Evidence\n    - struct: pub::DisputeObj\n    - impl: impl TryFrom<&types::SubmitEvidenceRouterData> for Evidence\n\n**core.rs**\n  Add:\n    - mod: pub::files\n\n**disputes.rs**\n  Add:\n    - struct: pub::SubmitEvidenceRequest\n\n**transformers.rs**\n  Add:\n    - function: pub::construct_file_upload_request\n    - function: private::try_from\n    - struct: pub::FileUploadResponse\n    - struct: pub::Evidence\n    - struct: pub::DisputeObj\n    - impl: impl TryFrom<&types::SubmitEvidenceRouterData> for Evidence\n\n**errors.rs**\n  Modify existing code\n\n**api_error_response.rs**\n  Modify existing code\n\n**files.rs**\n  Add:\n    - struct: pub::CreateFileResponse\n\n**fs_utils.rs**\n  Add:\n    - function: pub::get_file_path\n    - function: pub::save_file_to_fs\n    - function: pub::delete_file_from_fs\n    - function: pub::retrieve_file_from_fs\n\n**helpers.rs**\n  Add:\n    - function: pub::read_string\n    - function: pub::get_file_purpose\n    - function: pub::upload_file\n    - function: pub::delete_file\n    - function: pub::retrieve_file\n    - function: pub::validate_file_upload\n    - function: pub::delete_file_using_file_id\n    - function: pub::retrieve_file_and_provider_file_id_from_file_id\n    - function: pub::upload_and_get_provider_provider_file_id\n\n**s3_utils.rs**\n  Add:\n    - function: private::get_aws_client\n    - function: pub::upload_file_to_s3\n    - function: pub::delete_file_from_s3\n    - function: pub::retrieve_file_from_s3\n\n**metrics.rs**\n  Modify existing code\n\n**flows.rs**\n  Modify existing code\n\n**utils.rs**\n  Add:\n    - function: pub::construct_accept_dispute_router_data\n    - function: pub::construct_submit_evidence_router_data\n    - function: pub::construct_upload_file_router_data\n\n**db.rs**\n  Add:\n    - mod: pub::file\n\n**file.rs**\n  Add:\n    - function: private::insert_file_metadata\n    - function: private::find_file_metadata_by_merchant_id_file_id\n    - function: private::delete_file_metadata_by_merchant_id_file_id\n    - function: private::update_file_metadata\n    - function: private::insert_file_metadata\n    - function: private::find_file_metadata_by_merchant_id_file_id\n    - function: private::delete_file_metadata_by_merchant_id_file_id\n    - function: private::update_file_metadata\n    - trait: pub::FileMetadataInterface\n    - impl: impl FileMetadataInterface for Store\n    - impl: impl FileMetadataInterface for MockDb\n\n**lib.rs**\n  Modify existing code\n\n**routes.rs**\n  Add:\n    - mod: pub::files\n\n**app.rs**\n  Add:\n    - function: pub::server\n    - struct: private::Files\n    - impl: impl Files\n\n**disputes.rs**\n  Add:\n    - struct: pub::SubmitEvidenceRequest\n\n**files.rs**\n  Add:\n    - struct: pub::CreateFileResponse\n\n**transformers.rs**\n  Add:\n    - function: pub::construct_file_upload_request\n    - function: private::try_from\n    - struct: pub::FileUploadResponse\n    - struct: pub::Evidence\n    - struct: pub::DisputeObj\n    - impl: impl TryFrom<&types::SubmitEvidenceRouterData> for Evidence\n\n**api.rs**\n  Add:\n    - function: private::get_request_form_data\n    - function: private::http_response_file_data\n\n**request.rs**\n  Add:\n    - function: pub::set_form_data\n    - function: pub::form_data\n\n**types.rs**\n  Add:\n    - struct: pub::AcceptDisputeRequestData\n    - struct: pub::AcceptDisputeResponse\n    - struct: pub::SubmitEvidenceRequestData\n    - struct: pub::SubmitEvidenceResponse\n    - struct: pub::UploadFileRequestData\n    - struct: pub::UploadFileResponse\n\n**api.rs**\n  Add:\n    - function: private::get_request_form_data\n    - function: private::http_response_file_data\n\n**disputes.rs**\n  Add:\n    - struct: pub::SubmitEvidenceRequest\n\n**files.rs**\n  Add:\n    - struct: pub::CreateFileResponse\n\n**storage.rs**\n  Add:\n    - mod: pub::file\n\n**file.rs**\n  Add:\n    - function: private::insert_file_metadata\n    - function: private::find_file_metadata_by_merchant_id_file_id\n    - function: private::delete_file_metadata_by_merchant_id_file_id\n    - function: private::update_file_metadata\n    - function: private::insert_file_metadata\n    - function: private::find_file_metadata_by_merchant_id_file_id\n    - function: private::delete_file_metadata_by_merchant_id_file_id\n    - function: private::update_file_metadata\n    - trait: pub::FileMetadataInterface\n    - impl: impl FileMetadataInterface for Store\n    - impl: impl FileMetadataInterface for MockDb\n\n**transformers.rs**\n  Add:\n    - function: pub::construct_file_upload_request\n    - function: private::try_from\n    - struct: pub::FileUploadResponse\n    - struct: pub::Evidence\n    - struct: pub::DisputeObj\n    - impl: impl TryFrom<&types::SubmitEvidenceRouterData> for Evidence\n\n**types.rs**\n  Add:\n    - struct: pub::AcceptDisputeRequestData\n    - struct: pub::AcceptDisputeResponse\n    - struct: pub::SubmitEvidenceRequestData\n    - struct: pub::SubmitEvidenceResponse\n    - struct: pub::UploadFileRequestData\n    - struct: pub::UploadFileResponse\n\n**dispute.rs**\n  Modify existing code\n\n**enums.rs**\n  Add:\n    - function: pub::supports_file_storage_module\n\n**file.rs**\n  Add:\n    - function: private::insert_file_metadata\n    - function: private::find_file_metadata_by_merchant_id_file_id\n    - function: private::delete_file_metadata_by_merchant_id_file_id\n    - function: private::update_file_metadata\n    - function: private::insert_file_metadata\n    - function: private::find_file_metadata_by_merchant_id_file_id\n    - function: private::delete_file_metadata_by_merchant_id_file_id\n    - function: private::update_file_metadata\n    - trait: pub::FileMetadataInterface\n    - impl: impl FileMetadataInterface for Store\n    - impl: impl FileMetadataInterface for MockDb\n\n**lib.rs**\n  Modify existing code\n\n**query.rs**\n  Add:\n    - mod: pub::file\n\n**file.rs**\n  Add:\n    - function: private::insert_file_metadata\n    - function: private::find_file_metadata_by_merchant_id_file_id\n    - function: private::delete_file_metadata_by_merchant_id_file_id\n    - function: private::update_file_metadata\n    - function: private::insert_file_metadata\n    - function: private::find_file_metadata_by_merchant_id_file_id\n    - function: private::delete_file_metadata_by_merchant_id_file_id\n    - function: private::update_file_metadata\n    - trait: pub::FileMetadataInterface\n    - impl: impl FileMetadataInterface for Store\n    - impl: impl FileMetadataInterface for MockDb\n\n**schema.rs**\n  Modify existing code"}
