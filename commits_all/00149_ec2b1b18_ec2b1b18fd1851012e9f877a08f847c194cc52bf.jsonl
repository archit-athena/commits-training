{"prompt": "feat(connector): Add support for complete authorize payment after 3DS redirection (#741)", "response": "Files to modify:\n\n\n**mod.rs**\n  Modify existing code\n\n**test.rs**\n  Modify existing code\n\n**lib.rs**\n  Remove:\n    - function: private::prefix_zero\n\n**aci.rs**\n  Remove:\n    - impl: impl services::ConnectorRedirectResponse for Aci\n\n**adyen.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Adyen\n\n**airwallex.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Airwallex\n\n**applepay.rs**\n  Remove:\n    - impl: impl services::ConnectorRedirectResponse for Applepay\n\n**authorizedotnet.rs**\n  Remove:\n    - impl: impl services::ConnectorRedirectResponse for Authorizedotnet\n\n**bambora.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Bambora\n\n**bluesnap.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Bluesnap\n\n**braintree.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Braintree\n\n**checkout.rs**\n  Modify existing code\n\n**cybersource.rs**\n  Remove:\n    - impl: impl services::ConnectorRedirectResponse for Cybersource\n\n**dlocal.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Dlocal\n\n**fiserv.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Fiserv\n\n**globalpay.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Globalpay\n\n**transformers.rs**\n  Modify existing code\n\n**klarna.rs**\n  Remove:\n    - impl: impl services::ConnectorRedirectResponse for Klarna\n\n**multisafepay.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Multisafepay\n\n**nuvei.rs**\n  Remove:\n    - impl: impl api::PaymentVoid for Nuvei\n    - impl: impl api::ConnectorAccessToken for Nuvei\n    - impl: impl api::PaymentSync for Nuvei\n    - impl: impl api::PaymentCapture for Nuvei\n    - impl: impl api::PaymentSession for Nuvei\n    - impl: impl api::PaymentAuthorize for Nuvei\n    - impl: impl api::Refund for Nuvei\n    - impl: impl api::RefundExecute for Nuvei\n    - impl: impl api::RefundSync for Nuvei\n  Add:\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - impl: impl api::PaymentVoid for Nuvei\n    - impl: impl api::PaymentSync for Nuvei\n    - impl: impl api::PaymentCapture for Nuvei\n    - impl: impl api::PaymentSession for Nuvei\n    - impl: impl api::PaymentAuthorize for Nuvei\n    - impl: impl api::Refund for Nuvei\n    - impl: impl api::RefundExecute for Nuvei\n    - impl: impl api::RefundSync for Nuvei\n    - impl: impl api::PaymentsCompleteAuthorize for Nuvei\n    - impl: impl api::ConnectorAccessToken for Nuvei\n    - impl: impl ConnectorIntegration<\napi::CompleteAuthorize,\ntypes::CompleteAuthorizeData,\ntypes::PaymentsResponseData,\n> for Nuvei\n    - impl: impl ConnectorIntegration<InitPayment, types::PaymentsAuthorizeData, types::PaymentsResponseData> for Nuvei\n\n**transformers.rs**\n  Modify existing code\n\n**payu.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Payu\n\n**rapyd.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Rapyd\n\n**shift4.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Shift4\n\n**stripe.rs**\n  Modify existing code\n\n**trustpay.rs**\n  Modify existing code\n\n**transformers.rs**\n  Modify existing code\n\n**utils.rs**\n  Remove:\n    - trait: pub::PaymentsRequestData\n  Add:\n    - function: private::get_email\n    - function: private::get_browser_info\n    - function: private::get_card\n    - function: pub::to_boolean\n    - function: pub::get_connector_meta\n    - function: pub::to_connector_meta\n    - function: pub::to_connector_meta_from_secret\n    - function: private::switch\n    - function: pub::to_string\n    - function: pub::base64_decode\n    - impl: impl common_utils::errors::ErrorSwitch<errors::ConnectorError> for errors::ParsingError\n\n**worldline.rs**\n  Remove:\n    - impl: impl services::ConnectorRedirectResponse for Worldline\n\n**worldpay.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Worldpay\n\n**errors.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - struct: pub::PaymentsRedirectResponseData\n\n**access_token.rs**\n  Modify existing code\n\n**flows.rs**\n  Add:\n    - mod: pub::complete_authorize_flow\n\n**authorize_flow.rs**\n  Add:\n    - function: private::decide_authentication_type\n\n**complete_authorize_flow.rs**\n  Add:\n    - function: private::construct_router_data\n    - function: private::decide_flows\n    - function: private::add_access_token\n    - function: pub::decide_flow\n    - impl: impl ConstructFlowSpecificData<\napi::CompleteAuthorize,\ntypes::CompleteAuthorizeData,\ntypes::PaymentsResponseData,\n> for PaymentData<api::CompleteAuthorize>\n    - impl: impl Feature<api::CompleteAuthorize, types::CompleteAuthorizeData> for types::RouterData<\napi::CompleteAuthorize,\ntypes::CompleteAuthorizeData,\ntypes::PaymentsResponseData,\n>\n    - impl: impl types::PaymentsCompleteAuthorizeRouterData\n\n**helpers.rs**\n  Add:\n    - function: pub::create_complete_authorize_url\n\n**operations.rs**\n  Add:\n    - mod: pub::payment_complete_authorize\n\n**payment_complete_authorize.rs**\n  Add:\n    - function: private::get_trackers\n    - function: private::get_or_create_customer_details\n    - function: private::make_pm_data\n    - function: private::add_task_to_process_tracker\n    - function: private::get_connector\n    - function: private::update_trackers\n    - function: private::validate_request\n    - struct: pub::CompleteAuthorize\n    - impl: impl GetTracker<F, PaymentData<F>, api::PaymentsRequest> for CompleteAuthorize\n    - impl: impl Domain<F, api::PaymentsRequest> for CompleteAuthorize\n    - impl: impl UpdateTracker<F, PaymentData<F>, api::PaymentsRequest> for CompleteAuthorize\n    - impl: impl ValidateRequest<F, api::PaymentsRequest> for CompleteAuthorize\n\n**payment_response.rs**\n  Add:\n    - function: private::update_tracker\n    - impl: impl PostUpdateTracker<F, PaymentData<F>, types::CompleteAuthorizeData> for PaymentResponse\n\n**transformers.rs**\n  Modify existing code\n\n**utils.rs**\n  Remove:\n    - trait: pub::PaymentsRequestData\n  Add:\n    - function: private::get_email\n    - function: private::get_browser_info\n    - function: private::get_card\n    - function: pub::to_boolean\n    - function: pub::get_connector_meta\n    - function: pub::to_connector_meta\n    - function: pub::to_connector_meta_from_secret\n    - function: private::switch\n    - function: pub::to_string\n    - function: pub::base64_decode\n    - impl: impl common_utils::errors::ErrorSwitch<errors::ConnectorError> for errors::ParsingError\n\n**app.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - struct: pub::PaymentsRedirectResponseData\n\n**api.rs**\n  Add:\n    - enum: pub::PaymentAction\n\n**types.rs**\n  Remove:\n    - impl: impl From<&&mut PaymentsAuthorizeRouterData> for PaymentsAuthorizeSessionTokenRouterData\n  Add:\n    - struct: pub::CompleteAuthorizeData\n    - impl: impl From<&&mut PaymentsAuthorizeRouterData> for AuthorizeSessionTokenData\n\n**payments.rs**\n  Add:\n    - struct: pub::PaymentsRedirectResponseData\n\n**aci.rs**\n  Remove:\n    - impl: impl services::ConnectorRedirectResponse for Aci\n\n**adyen.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Adyen\n\n**airwallex.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Airwallex\n\n**authorizedotnet.rs**\n  Remove:\n    - impl: impl services::ConnectorRedirectResponse for Authorizedotnet\n\n**bambora.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Bambora\n\n**bluesnap.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Bluesnap\n\n**checkout.rs**\n  Modify existing code\n\n**cybersource.rs**\n  Remove:\n    - impl: impl services::ConnectorRedirectResponse for Cybersource\n\n**dlocal.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Dlocal\n\n**fiserv.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Fiserv\n\n**globalpay.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Globalpay\n\n**multisafepay.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Multisafepay\n\n**nuvei.rs**\n  Remove:\n    - impl: impl api::PaymentVoid for Nuvei\n    - impl: impl api::ConnectorAccessToken for Nuvei\n    - impl: impl api::PaymentSync for Nuvei\n    - impl: impl api::PaymentCapture for Nuvei\n    - impl: impl api::PaymentSession for Nuvei\n    - impl: impl api::PaymentAuthorize for Nuvei\n    - impl: impl api::Refund for Nuvei\n    - impl: impl api::RefundExecute for Nuvei\n    - impl: impl api::RefundSync for Nuvei\n  Add:\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - impl: impl api::PaymentVoid for Nuvei\n    - impl: impl api::PaymentSync for Nuvei\n    - impl: impl api::PaymentCapture for Nuvei\n    - impl: impl api::PaymentSession for Nuvei\n    - impl: impl api::PaymentAuthorize for Nuvei\n    - impl: impl api::Refund for Nuvei\n    - impl: impl api::RefundExecute for Nuvei\n    - impl: impl api::RefundSync for Nuvei\n    - impl: impl api::PaymentsCompleteAuthorize for Nuvei\n    - impl: impl api::ConnectorAccessToken for Nuvei\n    - impl: impl ConnectorIntegration<\napi::CompleteAuthorize,\ntypes::CompleteAuthorizeData,\ntypes::PaymentsResponseData,\n> for Nuvei\n    - impl: impl ConnectorIntegration<InitPayment, types::PaymentsAuthorizeData, types::PaymentsResponseData> for Nuvei\n\n**payu.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Payu\n\n**shift4.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Shift4\n\n**stripe.rs**\n  Modify existing code\n\n**trustpay.rs**\n  Modify existing code\n\n**utils.rs**\n  Remove:\n    - trait: pub::PaymentsRequestData\n  Add:\n    - function: private::get_email\n    - function: private::get_browser_info\n    - function: private::get_card\n    - function: pub::to_boolean\n    - function: pub::get_connector_meta\n    - function: pub::to_connector_meta\n    - function: pub::to_connector_meta_from_secret\n    - function: private::switch\n    - function: pub::to_string\n    - function: pub::base64_decode\n    - impl: impl common_utils::errors::ErrorSwitch<errors::ConnectorError> for errors::ParsingError\n\n**worldline.rs**\n  Remove:\n    - impl: impl services::ConnectorRedirectResponse for Worldline\n\n**worldpay.rs**\n  Remove:\n    - function: private::get_flow_type\n    - impl: impl services::ConnectorRedirectResponse for Worldpay\n\n**operation.rs**\n  Modify existing code"}
