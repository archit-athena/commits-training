{"prompt": "feat(customer_v2): customer v2 refactor customer v2 update endpoint (#5490)\n\nCo-authored-by: Narayan Bhat <narayan.bhat@juspay.in>\nCo-authored-by: hrithikesh026 <hrithikesh.vm@juspay.in>\nCo-authored-by: Prajjwal Kumar <prajjwal.kumar@juspay.in>\nCo-authored-by: Sanchith Hegde <sanchith.hegde@juspay.in>\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>", "response": "Files to modify:\n\n\n**customers.rs**\n  Add:\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_address\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_default_customer_billing_address\n    - function: pub::get_default_customer_shipping_address\n    - function: pub::get_global_id\n    - function: pub::new\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::UpdateCustomerId\n    - impl: impl CustomerUpdateRequest\n    - impl: impl CustomerUpdateRequest\n    - impl: impl UpdateCustomerId\n\n**customer.rs**\n  Add:\n    - function: private::get_api_event_type\n    - impl: impl ApiEventMetric for CustomerUpdateRequest\n\n**customers.rs**\n  Add:\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_address\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_default_customer_billing_address\n    - function: pub::get_default_customer_shipping_address\n    - function: pub::get_global_id\n    - function: pub::new\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::UpdateCustomerId\n    - impl: impl CustomerUpdateRequest\n    - impl: impl CustomerUpdateRequest\n    - impl: impl UpdateCustomerId\n\n**kv.rs**\n  Modify existing code\n\n**customers.rs**\n  Add:\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_address\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_default_customer_billing_address\n    - function: pub::get_default_customer_shipping_address\n    - function: pub::get_global_id\n    - function: pub::new\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::UpdateCustomerId\n    - impl: impl CustomerUpdateRequest\n    - impl: impl CustomerUpdateRequest\n    - impl: impl UpdateCustomerId\n\n**customer.rs**\n  Add:\n    - function: private::get_api_event_type\n    - impl: impl ApiEventMetric for CustomerUpdateRequest\n\n**customers.rs**\n  Add:\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_address\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_default_customer_billing_address\n    - function: pub::get_default_customer_shipping_address\n    - function: pub::get_global_id\n    - function: pub::new\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::UpdateCustomerId\n    - impl: impl CustomerUpdateRequest\n    - impl: impl CustomerUpdateRequest\n    - impl: impl UpdateCustomerId\n\n**types.rs**\n  Remove:\n    - impl: impl From<CustomerUpdateRequest> for api::CustomerRequest\n  Add:\n    - impl: impl From<CustomerUpdateRequest> for api::CustomerUpdateRequest\n\n**customers.rs**\n  Add:\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_address\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_default_customer_billing_address\n    - function: pub::get_default_customer_shipping_address\n    - function: pub::get_global_id\n    - function: pub::new\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::UpdateCustomerId\n    - impl: impl CustomerUpdateRequest\n    - impl: impl CustomerUpdateRequest\n    - impl: impl UpdateCustomerId\n\n**payment_methods.rs**\n  Add:\n    - function: pub::render_pm_collect_link\n\n**cards.rs**\n  Add:\n    - function: pub::create_payment_method\n    - function: pub::skip_locker_call_and_migrate_payment_method\n    - function: pub::add_payment_method_data\n    - function: pub::list_payment_methods\n\n**validator.rs**\n  Add:\n    - function: pub::validate_request_and_initiate_payment_method_collect_link\n\n**payments.rs**\n  Add:\n    - function: pub::payment_external_authentication\n\n**helpers.rs**\n  Modify existing code\n\n**payment_confirm.rs**\n  Add:\n    - function: private::update_trackers\n    - impl: impl UpdateTracker<F, PaymentData<F>, api::PaymentsRequest> for PaymentConfirm\n\n**payout_link.rs**\n  Add:\n    - function: pub::initiate_payout_link\n\n**payouts.rs**\n  Add:\n    - function: pub::payouts_list_core\n    - function: pub::make_payout_data\n\n**validator.rs**\n  Add:\n    - function: pub::validate_request_and_initiate_payment_method_collect_link\n\n**customers.rs**\n  Add:\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_address\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_default_customer_billing_address\n    - function: pub::get_default_customer_shipping_address\n    - function: pub::get_global_id\n    - function: pub::new\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::UpdateCustomerId\n    - impl: impl CustomerUpdateRequest\n    - impl: impl CustomerUpdateRequest\n    - impl: impl UpdateCustomerId\n\n**kafka_store.rs**\n  Add:\n    - function: private::find_optional_by_merchant_id_merchant_reference_id\n    - function: private::update_customer_by_global_id\n    - function: private::find_customer_by_merchant_reference_id_merchant_id\n    - function: private::find_customer_by_global_id\n\n**app.rs**\n  Modify existing code\n\n**customers.rs**\n  Add:\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_address\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_default_customer_billing_address\n    - function: pub::get_default_customer_shipping_address\n    - function: pub::get_global_id\n    - function: pub::new\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::UpdateCustomerId\n    - impl: impl CustomerUpdateRequest\n    - impl: impl CustomerUpdateRequest\n    - impl: impl UpdateCustomerId\n\n**payment_methods.rs**\n  Add:\n    - function: pub::render_pm_collect_link\n\n**customers.rs**\n  Add:\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_address\n    - function: pub::get_merchant_reference_id\n    - function: pub::get_default_customer_billing_address\n    - function: pub::get_default_customer_shipping_address\n    - function: pub::get_global_id\n    - function: pub::new\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::CustomerUpdateRequest\n    - struct: pub::UpdateCustomerId\n    - impl: impl CustomerUpdateRequest\n    - impl: impl CustomerUpdateRequest\n    - impl: impl UpdateCustomerId\n\n**utils.rs**\n  Add:\n    - function: private::get_address_update\n    - function: private::get_domain_address\n    - impl: impl CustomerAddress for api_models::customers::CustomerUpdateRequest\n\n**payouts.rs**\n  Add:\n    - function: pub::payouts_list_core\n    - function: pub::make_payout_data\n\n**kv_store.rs**\n  Modify existing code"}
