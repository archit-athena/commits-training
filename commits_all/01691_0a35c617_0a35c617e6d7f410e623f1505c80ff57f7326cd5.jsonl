{"prompt": "feat(subscriptions): Invoice record back workflow (#9529)\n\nCo-authored-by: Prajjwal kumar <write2prajjwal@gmail.com>\nCo-authored-by: Prajjwal Kumar <prajjwal.kumar@juspay.in>\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>\nCo-authored-by: Jagan Elavarasan <jaganelavarasan@gmail.com>", "response": "Files to modify:\n\n\n**subscription.rs**\n  Modify existing code\n\n**enums.rs**\n  Modify existing code\n\n**chargebee.rs**\n  Add:\n    - impl: impl api::subscriptions::SubscriptionRecordBackFlow for Chargebee\n\n**recurly.rs**\n  Add:\n    - impl: impl api::subscriptions_v2::SubscriptionRecordBackV2 for Recurly\n    - impl: impl ConnectorIntegrationV2<\nInvoiceRecordBack,\nInvoiceRecordBackData,\nInvoiceRecordBackRequest,\nInvoiceRecordBackResponse,\n> for Recurly\n\n**stripebilling.rs**\n  Add:\n    - impl: impl subscriptions_api::Subscriptions for Stripebilling\n    - impl: impl subscriptions_api::GetSubscriptionPlansFlow for Stripebilling\n    - impl: impl subscriptions_api::SubscriptionRecordBackFlow for Stripebilling\n    - impl: impl subscriptions_api::SubscriptionCreate for Stripebilling\n    - impl: impl ConnectorIntegration<\nsubscription_flow_types::GetSubscriptionPlans,\nsubscription_request_types::GetSubscriptionPlansRequest,\nsubscription_response_types::GetSubscriptionPlansResponse,\n> for Stripebilling\n    - impl: impl subscriptions_api::GetSubscriptionPlanPricesFlow for Stripebilling\n    - impl: impl ConnectorIntegration<\nsubscription_flow_types::GetSubscriptionPlanPrices,\nsubscription_request_types::GetSubscriptionPlanPricesRequest,\nsubscription_response_types::GetSubscriptionPlanPricesResponse,\n> for Stripebilling\n    - impl: impl ConnectorIntegration<\nsubscription_flow_types::SubscriptionCreate,\nsubscription_request_types::SubscriptionCreateRequest,\nsubscription_response_types::SubscriptionCreateResponse,\n> for Stripebilling\n    - impl: impl subscriptions_api::GetSubscriptionEstimateFlow for Stripebilling\n    - impl: impl ConnectorIntegration<\nsubscription_flow_types::GetSubscriptionEstimate,\nsubscription_request_types::GetSubscriptionEstimateRequest,\nsubscription_response_types::GetSubscriptionEstimateResponse,\n> for Stripebilling\n    - impl: impl ConnectorIntegration<\nrecovery_router_flows::InvoiceRecordBack,\nrecovery_request_types::InvoiceRecordBackRequest,\nrecovery_response_types::InvoiceRecordBackResponse,\n> for Stripebilling\n\n**default_implementations.rs**\n  Remove:\n    - impl: impl ConnectorIntegration<\nInvoiceRecordBack,\nInvoiceRecordBackRequest,\nInvoiceRecordBackResponse\n> for $connector\n  Add:\n    - impl: impl SubscriptionRecordBackFlow for $connector\n    - impl: impl ConnectorIntegration<InvoiceRecordBack, InvoiceRecordBackRequest, InvoiceRecordBackResponse> for $path::$connector\n\n#[cfg(feature = \"dummy_connector\")]\nimpl<const T: u8> SubscriptionRecordBackFlow for connectors::DummyConnector<T>\n    - impl: impl ConnectorIntegration<InvoiceRecordBack, InvoiceRecordBackRequest, InvoiceRecordBackResponse> for connectors::DummyConnector<T>\n\n**flow_common_types.rs**\n  Remove:\n    - struct: pub::InvoiceRecordBackData\n  Add:\n    - struct: pub::InvoiceRecordBackData\n\n**subscriptions.rs**\n  Remove:\n    - trait: pub::GetSubscriptionPlansFlow\n    - trait: pub::GetSubscriptionPlanPricesFlow\n    - trait: pub::ConnectorCustomer\n    - trait: pub::SubscriptionCreate\n    - trait: pub::GetSubscriptionEstimateFlow\n  Add:\n    - trait: pub::SubscriptionRecordBackFlow\n\n**subscriptions_v2.rs**\n  Add:\n    - trait: private::SubscriptionRecordBackV2\n\n**conversion_impls.rs**\n  Modify existing code\n\n**scheduler.rs**\n  Modify existing code\n\n**types.rs**\n  Modify existing code\n\n**subscription.rs**\n  Modify existing code\n\n**billing_processor_handler.rs**\n  Add:\n    - function: pub::record_back_to_billing_processor\n\n**invoice_handler.rs**\n  Add:\n    - function: pub::new\n    - function: pub::get_invoice_by_id\n\n**storage.rs**\n  Add:\n    - mod: pub::invoice_sync\n\n**invoice_sync.rs**\n  Add:\n    - function: private::from\n    - function: pub::new\n    - function: pub::new\n    - function: private::from\n    - function: private::from\n    - struct: pub::InvoiceSyncTrackingData\n    - struct: pub::InvoiceSyncRequest\n    - enum: pub::InvoiceSyncPaymentStatus\n    - impl: impl From<InvoiceSyncRequest> for InvoiceSyncTrackingData\n    - impl: impl InvoiceSyncRequest\n    - impl: impl InvoiceSyncTrackingData\n    - impl: impl From<common_enums::IntentStatus> for InvoiceSyncPaymentStatus\n    - impl: impl From<InvoiceSyncPaymentStatus> for common_enums::connector_enums::InvoiceStatus\n\n**workflows.rs**\n  Add:\n    - mod: pub::invoice_sync\n\n**invoice_sync.rs**\n  Add:\n    - function: private::from\n    - function: pub::new\n    - function: pub::new\n    - function: private::from\n    - function: private::from\n    - struct: pub::InvoiceSyncTrackingData\n    - struct: pub::InvoiceSyncRequest\n    - enum: pub::InvoiceSyncPaymentStatus\n    - impl: impl From<InvoiceSyncRequest> for InvoiceSyncTrackingData\n    - impl: impl InvoiceSyncRequest\n    - impl: impl InvoiceSyncTrackingData\n    - impl: impl From<common_enums::IntentStatus> for InvoiceSyncPaymentStatus\n    - impl: impl From<InvoiceSyncPaymentStatus> for common_enums::connector_enums::InvoiceStatus\n\n**process_data.rs**\n  Add:\n    - function: private::default\n    - struct: pub::SubscriptionInvoiceSyncPTMapping\n    - impl: impl Default for SubscriptionInvoiceSyncPTMapping\n\n**utils.rs**\n  Add:\n    - function: pub::get_subscription_invoice_sync_retry_schedule_time"}
