{"prompt": "feat(core): add bulk tokenization flows (#7066)\n\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>", "response": "Files to modify:\n\n\n**payment_methods.rs**\n  Add:\n    - function: private::from\n    - struct: pub::CardNetworkTokenizeRequest\n    - struct: pub::TokenizeCardRequest\n    - struct: pub::TokenizePaymentMethodRequest\n    - struct: pub::CardNetworkTokenizeResponse\n    - enum: pub::TokenizeDataRequest\n    - impl: impl common_utils::events::ApiEventMetric for CardNetworkTokenizeRequest\n    - impl: impl common_utils::events::ApiEventMetric for CardNetworkTokenizeResponse\n    - impl: impl From<&Card> for MigrateCardDetail\n\n**bulk_tokenization.rs**\n  Add:\n    - function: private::foreign_from\n    - function: private::foreign_from\n    - function: private::foreign_try_from\n    - function: private::foreign_from\n    - function: private::foreign_try_from\n    - function: private::foreign_from\n    - function: private::foreign_from\n    - function: private::foreign_from\n    - function: private::foreign_from\n    - function: private::foreign_from\n    - function: private::foreign_from\n    - struct: pub::CardNetworkTokenizeRequest\n    - struct: pub::TokenizeCardRequest\n    - struct: pub::TokenizePaymentMethodRequest\n    - struct: pub::CardNetworkTokenizeRecord\n    - enum: pub::TokenizeDataRequest\n    - impl: impl ForeignFrom<&CardNetworkTokenizeRecord> for payments_api::CustomerDetails\n    - impl: impl ForeignFrom<&CardNetworkTokenizeRecord> for payments_api::Address\n    - impl: impl ForeignTryFrom<CardNetworkTokenizeRecord> for payment_methods_api::CardNetworkTokenizeRequest\n    - impl: impl ForeignFrom<&TokenizeCardRequest> for payment_methods_api::MigrateCardDetail\n    - impl: impl ForeignTryFrom<CustomerDetails> for payments_api::CustomerDetails\n    - impl: impl ForeignFrom<payment_methods_api::CardNetworkTokenizeRequest> for CardNetworkTokenizeRequest\n    - impl: impl ForeignFrom<payment_methods_api::TokenizeDataRequest> for TokenizeDataRequest\n    - impl: impl ForeignFrom<payments_api::CustomerDetails> for CustomerDetails\n    - impl: impl ForeignFrom<payments_api::Address> for Address\n    - impl: impl ForeignFrom<payments_api::AddressDetails> for AddressDetails\n    - impl: impl ForeignFrom<payments_api::PhoneDetails> for PhoneDetails\n\n**lib.rs**\n  Add:\n    - mod: pub::bulk_tokenization\n\n**network_tokenization.rs**\n  Modify existing code\n\n**payment_method_data.rs**\n  Add:\n    - function: private::from\n    - struct: pub::CardDetail\n    - impl: impl From<&Card> for CardDetail\n\n**openapi.rs**\n  Modify existing code\n\n**openapi_v2.rs**\n  Modify existing code\n\n**payment_method.rs**\n  Add:\n    - function: pub::tokenize_card_api\n    - function: pub::tokenize_card_using_pm_api\n\n**errors.rs**\n  Add:\n    - enum: pub::BulkNetworkTokenizationError\n\n**payment_methods.rs**\n  Add:\n    - function: private::from\n    - struct: pub::CardNetworkTokenizeRequest\n    - struct: pub::TokenizeCardRequest\n    - struct: pub::TokenizePaymentMethodRequest\n    - struct: pub::CardNetworkTokenizeResponse\n    - enum: pub::TokenizeDataRequest\n    - impl: impl common_utils::events::ApiEventMetric for CardNetworkTokenizeRequest\n    - impl: impl common_utils::events::ApiEventMetric for CardNetworkTokenizeResponse\n    - impl: impl From<&Card> for MigrateCardDetail\n\n**cards.rs**\n  Add:\n    - function: pub::tokenize_card_flow\n    - function: pub::execute_card_tokenization\n    - function: pub::execute_payment_method_tokenization\n\n**network_tokenization.rs**\n  Modify existing code\n\n**tokenize.rs**\n  Add:\n    - function: pub::parse_csv\n    - function: pub::get_tokenize_card_form_records\n    - function: pub::tokenize_cards\n    - function: private::new\n    - function: private::encrypt_card\n    - function: private::encrypt_network_token\n    - function: private::fetch_bin_details_and_validate_card_network\n    - function: private::tokenize_card\n    - function: private::validate_card_network\n    - function: private::store_network_token_in_locker\n    - struct: pub::CardNetworkTokenizeForm\n    - struct: pub::StoreLockerResponse\n    - struct: pub::NetworkTokenizationBuilder\n    - struct: pub::CardNetworkTokenizeExecutor\n    - trait: pub::State\n    - trait: pub::TransitionTo\n    - trait: pub::NetworkTokenizationProcess\n    - impl: impl NetworkTokenizationProcess<'a, D> for CardNetworkTokenizeExecutor<'a, D>\n    - mod: pub::card_executor\n    - mod: pub::payment_method_executor\n\n**card_executor.rs**\n  Add:\n    - function: private::default\n    - function: pub::new\n    - function: pub::set_validate_result\n    - function: pub::set_card_details\n    - function: pub::set_customer\n    - function: pub::get_optional_card_and_cvc\n    - function: pub::set_token_details\n    - function: pub::set_stored_card_response\n    - function: pub::set_stored_token_response\n    - function: pub::set_payment_method_response\n    - function: pub::build\n    - function: pub::validate_request_and_fetch_optional_customer\n    - function: pub::create_customer\n    - function: pub::store_card_and_token_in_locker\n    - function: pub::store_card_in_locker\n    - function: pub::create_payment_method\n    - struct: pub::TokenizeWithCard\n    - struct: pub::CardRequestValidated\n    - struct: pub::CardDetailsAssigned\n    - struct: pub::CustomerAssigned\n    - struct: pub::CardTokenized\n    - struct: pub::CardStored\n    - struct: pub::CardTokenStored\n    - struct: pub::PaymentMethodCreated\n    - impl: impl State for TokenizeWithCard\n    - impl: impl State for CustomerAssigned\n    - impl: impl State for CardRequestValidated\n    - impl: impl State for CardDetailsAssigned\n    - impl: impl State for CardTokenized\n    - impl: impl State for CardStored\n    - impl: impl State for CardTokenStored\n    - impl: impl State for PaymentMethodCreated\n    - impl: impl TransitionTo<CardRequestValidated> for TokenizeWithCard\n    - impl: impl TransitionTo<CardDetailsAssigned> for CardRequestValidated\n    - impl: impl TransitionTo<CustomerAssigned> for CardDetailsAssigned\n    - impl: impl TransitionTo<CardTokenized> for CustomerAssigned\n    - impl: impl TransitionTo<CardTokenStored> for CardTokenized\n    - impl: impl TransitionTo<PaymentMethodCreated> for CardTokenStored\n    - impl: impl Default for NetworkTokenizationBuilder<'_, TokenizeWithCard>\n    - impl: impl NetworkTokenizationBuilder<'a, TokenizeWithCard>\n    - impl: impl NetworkTokenizationBuilder<'a, CardRequestValidated>\n    - impl: impl NetworkTokenizationBuilder<'a, CardDetailsAssigned>\n    - impl: impl NetworkTokenizationBuilder<'a, CustomerAssigned>\n    - impl: impl NetworkTokenizationBuilder<'a, CardTokenized>\n    - impl: impl NetworkTokenizationBuilder<'a, CardStored>\n    - impl: impl NetworkTokenizationBuilder<'a, CardTokenStored>\n    - impl: impl NetworkTokenizationBuilder<'_, PaymentMethodCreated>\n    - impl: impl CardNetworkTokenizeExecutor<'_, domain::TokenizeCardRequest>\n\n**payment_method_executor.rs**\n  Add:\n    - function: private::default\n    - function: pub::new\n    - function: pub::set_payment_method\n    - function: pub::set_validate_result\n    - function: pub::set_card_details\n    - function: pub::get_optional_card_and_cvc\n    - function: pub::set_token_details\n    - function: pub::set_stored_token_response\n    - function: pub::set_payment_method\n    - function: pub::build\n    - function: pub::fetch_payment_method\n    - function: pub::validate_request_and_locker_reference_and_customer\n    - function: pub::update_payment_method\n    - struct: pub::TokenizeWithPmId\n    - struct: pub::PmValidated\n    - struct: pub::PmFetched\n    - struct: pub::PmAssigned\n    - struct: pub::PmTokenized\n    - struct: pub::PmTokenStored\n    - struct: pub::PmTokenUpdated\n    - impl: impl State for TokenizeWithPmId\n    - impl: impl State for PmValidated\n    - impl: impl State for PmFetched\n    - impl: impl State for PmAssigned\n    - impl: impl State for PmTokenized\n    - impl: impl State for PmTokenStored\n    - impl: impl State for PmTokenUpdated\n    - impl: impl TransitionTo<PmFetched> for TokenizeWithPmId\n    - impl: impl TransitionTo<PmValidated> for PmFetched\n    - impl: impl TransitionTo<PmAssigned> for PmValidated\n    - impl: impl TransitionTo<PmTokenized> for PmAssigned\n    - impl: impl TransitionTo<PmTokenStored> for PmTokenized\n    - impl: impl TransitionTo<PmTokenUpdated> for PmTokenStored\n    - impl: impl Default for NetworkTokenizationBuilder<'_, TokenizeWithPmId>\n    - impl: impl NetworkTokenizationBuilder<'a, TokenizeWithPmId>\n    - impl: impl NetworkTokenizationBuilder<'a, PmFetched>\n    - impl: impl NetworkTokenizationBuilder<'a, PmValidated>\n    - impl: impl NetworkTokenizationBuilder<'a, PmAssigned>\n    - impl: impl NetworkTokenizationBuilder<'a, PmTokenized>\n    - impl: impl NetworkTokenizationBuilder<'a, PmTokenStored>\n    - impl: impl NetworkTokenizationBuilder<'_, PmTokenUpdated>\n    - impl: impl CardNetworkTokenizeExecutor<'_, domain::TokenizePaymentMethodRequest>\n\n**tokenization.rs**\n  Modify existing code\n\n**app.rs**\n  Modify existing code\n\n**lock_utils.rs**\n  Modify existing code\n\n**payment_methods.rs**\n  Add:\n    - function: private::from\n    - struct: pub::CardNetworkTokenizeRequest\n    - struct: pub::TokenizeCardRequest\n    - struct: pub::TokenizePaymentMethodRequest\n    - struct: pub::CardNetworkTokenizeResponse\n    - enum: pub::TokenizeDataRequest\n    - impl: impl common_utils::events::ApiEventMetric for CardNetworkTokenizeRequest\n    - impl: impl common_utils::events::ApiEventMetric for CardNetworkTokenizeResponse\n    - impl: impl From<&Card> for MigrateCardDetail\n\n**payment_methods.rs**\n  Add:\n    - function: private::from\n    - struct: pub::CardNetworkTokenizeRequest\n    - struct: pub::TokenizeCardRequest\n    - struct: pub::TokenizePaymentMethodRequest\n    - struct: pub::CardNetworkTokenizeResponse\n    - enum: pub::TokenizeDataRequest\n    - impl: impl common_utils::events::ApiEventMetric for CardNetworkTokenizeRequest\n    - impl: impl common_utils::events::ApiEventMetric for CardNetworkTokenizeResponse\n    - impl: impl From<&Card> for MigrateCardDetail\n\n**payments.rs**\n  Modify existing code\n\n**domain.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**types.rs**\n  Modify existing code"}
