{"prompt": "refactor(router): decrypt the wallet token before the debit routing call (#8598)", "response": "Files to modify:\n\n\n**payment_method_data.rs**\n  Add:\n    - function: pub::get_wallet_data\n    - function: pub::get_paze_wallet_data\n    - function: pub::get_apple_pay_wallet_data\n    - function: pub::get_google_pay_wallet_data\n    - impl: impl WalletData\n\n**payments.rs**\n  Add:\n    - function: pub::get_decrypted_wallet_payment_method_token\n    - function: pub::get_merchant_connector_account_for_wallet_decryption_flow\n    - function: private::decide_wallet_flow\n    - function: private::decrypt_wallet_token\n    - function: private::decide_wallet_flow\n    - function: private::decrypt_wallet_token\n    - function: private::decide_wallet_flow\n    - function: private::decrypt_wallet_token\n    - struct: private::ApplePayWallet\n    - struct: private::PazeWallet\n    - struct: private::GooglePayWallet\n    - enum: pub::DecideWalletFlow\n    - impl: impl WalletFlow<F, D> for PazeWallet\n    - impl: impl WalletFlow<F, D> for ApplePayWallet\n    - impl: impl WalletFlow<F, D> for GooglePayWallet\n\n**payment_approve.rs**\n  Modify existing code\n\n**payment_cancel.rs**\n  Modify existing code\n\n**payment_capture.rs**\n  Modify existing code\n\n**payment_complete_authorize.rs**\n  Modify existing code\n\n**payment_confirm.rs**\n  Modify existing code\n\n**payment_create.rs**\n  Modify existing code\n\n**payment_post_session_tokens.rs**\n  Modify existing code\n\n**payment_reject.rs**\n  Modify existing code\n\n**payment_session.rs**\n  Modify existing code\n\n**payment_start.rs**\n  Modify existing code\n\n**payment_status.rs**\n  Modify existing code\n\n**payment_update.rs**\n  Modify existing code\n\n**payment_update_metadata.rs**\n  Modify existing code\n\n**payments_incremental_authorization.rs**\n  Modify existing code\n\n**tax_calculation.rs**\n  Modify existing code\n\n**tokenization.rs**\n  Modify existing code"}
