{"prompt": "feat: encryption service integration to support batch encryption and decryption (#5164)\n\nCo-authored-by: dracarys18 <karthikey.hegde@juspay.in>\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>", "response": "Files to modify:\n\n\n**customers.rs**\n  Add:\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - struct: pub::CustomerRequestWithEmail\n    - struct: pub::CustomerRequestWithEncryption\n    - struct: pub::EncryptableCustomer\n    - impl: impl ToEncryptable<EncryptableCustomer, Secret<String>, Encryption> for CustomerRequestWithEncryption\n    - impl: impl ToEncryptable<EncryptableCustomer, Secret<String>, Secret<String>> for CustomerRequestWithEmail\n\n**payments.rs**\n  Add:\n    - function: private::from_encryptable\n    - function: private::to_encryptable\n    - struct: pub::AddressDetailsWithPhone\n    - struct: pub::EncryptableAddressDetails\n    - impl: impl ToEncryptable<EncryptableAddressDetails, Secret<String>, Secret<String>> for AddressDetailsWithPhone\n\n**consts.rs**\n  Modify existing code\n\n**encryption.rs**\n  Remove:\n    - function: private::from\n    - function: pub::new\n    - function: pub::into_inner\n    - function: pub::get_inner\n    - struct: pub::Encryption\n    - impl: impl From<common_utils::crypto::Encryptable<T>> for Encryption\n    - impl: impl Encryption\n  Add:\n    - function: private::from\n    - function: pub::new\n    - function: pub::into_inner\n    - function: pub::get_inner\n    - struct: pub::Encryption\n    - impl: impl From<Encryptable<T>> for Encryption\n    - impl: impl Encryption\n\n**keymanager.rs**\n  Add:\n    - function: private::convert_raw\n    - function: private::convert_raw\n    - function: private::convert_raw\n    - trait: pub::ConvertRaw\n    - impl: impl ConvertRaw for T\n    - impl: impl ConvertRaw for TransientDecryptDataRequest\n    - impl: impl ConvertRaw for TransientBatchDecryptDataRequest\n\n**lib.rs**\n  Add:\n    - mod: pub::encryption\n    - mod: pub::transformers\n\n**transformers.rs**\n  Add:\n    - trait: pub::ForeignFrom\n    - trait: pub::ForeignTryFrom\n\n**keymanager.rs**\n  Add:\n    - function: private::convert_raw\n    - function: private::convert_raw\n    - function: private::convert_raw\n    - trait: pub::ConvertRaw\n    - impl: impl ConvertRaw for T\n    - impl: impl ConvertRaw for TransientDecryptDataRequest\n    - impl: impl ConvertRaw for TransientBatchDecryptDataRequest\n\n**address.rs**\n  Add:\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - struct: pub::EncryptableAddress\n    - impl: impl ToEncryptable<EncryptableAddress, Secret<String>, Encryption> for Address\n\n**business_profile.rs**\n  Modify existing code\n\n**customers.rs**\n  Add:\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - struct: pub::CustomerRequestWithEmail\n    - struct: pub::CustomerRequestWithEncryption\n    - struct: pub::EncryptableCustomer\n    - impl: impl ToEncryptable<EncryptableCustomer, Secret<String>, Encryption> for CustomerRequestWithEncryption\n    - impl: impl ToEncryptable<EncryptableCustomer, Secret<String>, Secret<String>> for CustomerRequestWithEmail\n\n**events.rs**\n  Add:\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - struct: pub::EventWithEncryption\n    - struct: pub::EncryptableEvent\n    - impl: impl ToEncryptable<EncryptableEvent, Secret<String>, Encryption> for EventWithEncryption\n\n**lib.rs**\n  Add:\n    - mod: pub::encryption\n    - mod: pub::transformers\n\n**merchant_account.rs**\n  Modify existing code\n\n**merchant_connector_account.rs**\n  Modify existing code\n\n**merchant_key_store.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code\n\n**payment_method.rs**\n  Modify existing code\n\n**user.rs**\n  Modify existing code\n\n**user_authentication_method.rs**\n  Modify existing code\n\n**user_key_store.rs**\n  Modify existing code\n\n**behaviour.rs**\n  Modify existing code\n\n**merchant_account.rs**\n  Modify existing code\n\n**merchant_key_store.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code\n\n**type_encryption.rs**\n  Add:\n    - function: private::encrypt_via_api\n    - function: private::decrypt_via_api\n    - function: private::batch_encrypt_via_api\n    - function: private::batch_decrypt_via_api\n    - function: private::batch_encrypt\n    - function: private::batch_decrypt\n    - function: private::encrypt_via_api\n    - function: private::decrypt_via_api\n    - function: private::batch_encrypt_via_api\n    - function: private::batch_decrypt_via_api\n    - function: private::batch_encrypt\n    - function: private::batch_decrypt\n    - function: private::encrypt_via_api\n    - function: private::decrypt_via_api\n    - function: private::batch_encrypt_via_api\n    - function: private::batch_decrypt_via_api\n    - function: private::batch_encrypt\n    - function: private::batch_decrypt\n    - function: pub::batch_encrypt\n    - function: pub::batch_decrypt\n\n**scheduler.rs**\n  Modify existing code\n\n**consts.rs**\n  Modify existing code\n\n**admin.rs**\n  Modify existing code\n\n**api_keys.rs**\n  Modify existing code\n\n**apple_pay_certificates_migration.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**cards_info.rs**\n  Modify existing code\n\n**conditional_config.rs**\n  Modify existing code\n\n**customers.rs**\n  Add:\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - struct: pub::CustomerRequestWithEmail\n    - struct: pub::CustomerRequestWithEncryption\n    - struct: pub::EncryptableCustomer\n    - impl: impl ToEncryptable<EncryptableCustomer, Secret<String>, Encryption> for CustomerRequestWithEncryption\n    - impl: impl ToEncryptable<EncryptableCustomer, Secret<String>, Secret<String>> for CustomerRequestWithEmail\n\n**disputes.rs**\n  Modify existing code\n\n**encryption.rs**\n  Remove:\n    - function: private::from\n    - function: pub::new\n    - function: pub::into_inner\n    - function: pub::get_inner\n    - struct: pub::Encryption\n    - impl: impl From<common_utils::crypto::Encryptable<T>> for Encryption\n    - impl: impl Encryption\n  Add:\n    - function: private::from\n    - function: pub::new\n    - function: pub::into_inner\n    - function: pub::get_inner\n    - struct: pub::Encryption\n    - impl: impl From<Encryptable<T>> for Encryption\n    - impl: impl Encryption\n\n**helpers.rs**\n  Modify existing code\n\n**fraud_check.rs**\n  Modify existing code\n\n**operation.rs**\n  Modify existing code\n\n**fraud_check_post.rs**\n  Modify existing code\n\n**fraud_check_pre.rs**\n  Modify existing code\n\n**locker_migration.rs**\n  Modify existing code\n\n**helpers.rs**\n  Modify existing code\n\n**payment_link.rs**\n  Modify existing code\n\n**payment_methods.rs**\n  Modify existing code\n\n**cards.rs**\n  Modify existing code\n\n**validator.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - function: private::from_encryptable\n    - function: private::to_encryptable\n    - struct: pub::AddressDetailsWithPhone\n    - struct: pub::EncryptableAddressDetails\n    - impl: impl ToEncryptable<EncryptableAddressDetails, Secret<String>, Secret<String>> for AddressDetailsWithPhone\n\n**helpers.rs**\n  Modify existing code\n\n**operations.rs**\n  Modify existing code\n\n**payment_approve.rs**\n  Modify existing code\n\n**payment_cancel.rs**\n  Modify existing code\n\n**payment_capture.rs**\n  Modify existing code\n\n**payment_complete_authorize.rs**\n  Modify existing code\n\n**payment_confirm.rs**\n  Modify existing code\n\n**payment_create.rs**\n  Modify existing code\n\n**payment_reject.rs**\n  Modify existing code\n\n**payment_response.rs**\n  Modify existing code\n\n**payment_session.rs**\n  Modify existing code\n\n**payment_start.rs**\n  Modify existing code\n\n**payment_status.rs**\n  Modify existing code\n\n**payment_update.rs**\n  Modify existing code\n\n**payments_incremental_authorization.rs**\n  Modify existing code\n\n**retry.rs**\n  Modify existing code\n\n**routing.rs**\n  Modify existing code\n\n**tokenization.rs**\n  Modify existing code\n\n**payout_link.rs**\n  Modify existing code\n\n**payouts.rs**\n  Modify existing code\n\n**helpers.rs**\n  Modify existing code\n\n**pm_auth.rs**\n  Modify existing code\n\n**refunds.rs**\n  Modify existing code\n\n**routing.rs**\n  Modify existing code\n\n**helpers.rs**\n  Modify existing code\n\n**surcharge_decision_config.rs**\n  Modify existing code\n\n**user.rs**\n  Modify existing code\n\n**dashboard_metadata.rs**\n  Modify existing code\n\n**sample_data.rs**\n  Modify existing code\n\n**verification.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**incoming.rs**\n  Modify existing code\n\n**outgoing.rs**\n  Modify existing code\n\n**webhook_events.rs**\n  Modify existing code\n\n**address.rs**\n  Add:\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - struct: pub::EncryptableAddress\n    - impl: impl ToEncryptable<EncryptableAddress, Secret<String>, Encryption> for Address\n\n**customers.rs**\n  Add:\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - struct: pub::CustomerRequestWithEmail\n    - struct: pub::CustomerRequestWithEncryption\n    - struct: pub::EncryptableCustomer\n    - impl: impl ToEncryptable<EncryptableCustomer, Secret<String>, Encryption> for CustomerRequestWithEncryption\n    - impl: impl ToEncryptable<EncryptableCustomer, Secret<String>, Secret<String>> for CustomerRequestWithEmail\n\n**events.rs**\n  Add:\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - struct: pub::EventWithEncryption\n    - struct: pub::EncryptableEvent\n    - impl: impl ToEncryptable<EncryptableEvent, Secret<String>, Encryption> for EventWithEncryption\n\n**kafka_store.rs**\n  Modify existing code\n\n**merchant_account.rs**\n  Modify existing code\n\n**merchant_connector_account.rs**\n  Modify existing code\n\n**merchant_key_store.rs**\n  Modify existing code\n\n**sample_data.rs**\n  Modify existing code\n\n**user_key_store.rs**\n  Modify existing code\n\n**lib.rs**\n  Add:\n    - mod: pub::encryption\n    - mod: pub::transformers\n\n**app.rs**\n  Add:\n    - function: private::session_state\n\n**payment_methods.rs**\n  Modify existing code\n\n**recon.rs**\n  Modify existing code\n\n**api.rs**\n  Modify existing code\n\n**client.rs**\n  Modify existing code\n\n**authentication.rs**\n  Modify existing code\n\n**admin.rs**\n  Modify existing code\n\n**mandates.rs**\n  Modify existing code\n\n**address.rs**\n  Add:\n    - function: private::to_encryptable\n    - function: private::from_encryptable\n    - struct: pub::EncryptableAddress\n    - impl: impl ToEncryptable<EncryptableAddress, Secret<String>, Encryption> for Address\n\n**customer.rs**\n  Modify existing code\n\n**event.rs**\n  Modify existing code\n\n**merchant_connector_account.rs**\n  Modify existing code\n\n**types.rs**\n  Modify existing code\n\n**user.rs**\n  Modify existing code\n\n**user_key_store.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**connector_onboarding.rs**\n  Modify existing code\n\n**user.rs**\n  Modify existing code\n\n**sample_data.rs**\n  Modify existing code\n\n**api_key_expiry.rs**\n  Modify existing code\n\n**attach_payout_account_workflow.rs**\n  Modify existing code\n\n**outgoing_webhook_retry.rs**\n  Modify existing code\n\n**payment_method_status_update.rs**\n  Modify existing code\n\n**payment_sync.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - function: private::from_encryptable\n    - function: private::to_encryptable\n    - struct: pub::AddressDetailsWithPhone\n    - struct: pub::EncryptableAddressDetails\n    - impl: impl ToEncryptable<EncryptableAddressDetails, Secret<String>, Secret<String>> for AddressDetailsWithPhone\n\n**payments2.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code"}
