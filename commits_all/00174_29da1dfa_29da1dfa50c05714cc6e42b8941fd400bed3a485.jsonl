{"prompt": "feat: connector tokenization flow (#750)\n\nCo-authored-by: Arun Raj M <jarnura47@gmail.com>", "response": "Files to modify:\n\n\n**payment_methods.rs**\n  Modify existing code\n\n**consts.rs**\n  Modify existing code\n\n**settings.rs**\n  Add:\n    - function: private::test_pm_deserializer\n    - struct: pub::TokenizationConfig\n    - struct: pub::PaymentMethodTokenFilter\n    - mod: private::payment_method_deserialization_test\n\n**aci.rs**\n  Add:\n    - impl: impl api::PaymentToken for Aci\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Aci\n\n**adyen.rs**\n  Add:\n    - impl: impl api::PaymentToken for Adyen\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Adyen\n\n**airwallex.rs**\n  Add:\n    - impl: impl api::PaymentToken for Airwallex\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Airwallex\n\n**applepay.rs**\n  Add:\n    - impl: impl api::PaymentToken for Applepay\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Applepay\n\n**authorizedotnet.rs**\n  Add:\n    - impl: impl api::PaymentToken for Authorizedotnet\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Authorizedotnet\n\n**bambora.rs**\n  Add:\n    - impl: impl api::PaymentToken for Bambora\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Bambora\n\n**bluesnap.rs**\n  Add:\n    - impl: impl api::PaymentToken for Bluesnap\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Bluesnap\n\n**braintree.rs**\n  Add:\n    - impl: impl api::PaymentToken for Braintree\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Braintree\n\n**checkout.rs**\n  Add:\n    - impl: impl api::PaymentToken for Checkout\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Checkout\n\n**coinbase.rs**\n  Add:\n    - impl: impl api::PaymentToken for Coinbase\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Coinbase\n\n**transformers.rs**\n  Modify existing code\n\n**cybersource.rs**\n  Add:\n    - impl: impl api::PaymentToken for Cybersource\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Cybersource\n\n**dlocal.rs**\n  Add:\n    - impl: impl api::PaymentToken for Dlocal\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Dlocal\n\n**fiserv.rs**\n  Add:\n    - impl: impl api::PaymentToken for Fiserv\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Fiserv\n\n**globalpay.rs**\n  Add:\n    - impl: impl api::PaymentToken for Globalpay\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Globalpay\n\n**klarna.rs**\n  Add:\n    - impl: impl api::PaymentToken for Klarna\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Klarna\n\n**mollie.rs**\n  Add:\n    - impl: impl api::PaymentToken for Mollie\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Mollie\n\n**multisafepay.rs**\n  Add:\n    - impl: impl api::PaymentToken for Multisafepay\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Multisafepay\n\n**nuvei.rs**\n  Add:\n    - impl: impl api::PaymentToken for Nuvei\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Nuvei\n\n**opennode.rs**\n  Add:\n    - impl: impl api::PaymentToken for Opennode\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Opennode\n\n**paypal.rs**\n  Add:\n    - impl: impl api::PaymentToken for Paypal\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Paypal\n\n**transformers.rs**\n  Modify existing code\n\n**payu.rs**\n  Add:\n    - impl: impl api::PaymentToken for Payu\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Payu\n\n**rapyd.rs**\n  Add:\n    - impl: impl api::PaymentToken for Rapyd\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Rapyd\n\n**shift4.rs**\n  Add:\n    - impl: impl api::PaymentToken for Shift4\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Shift4\n\n**stripe.rs**\n  Add:\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - impl: impl api::PaymentToken for Stripe\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Stripe\n\n**transformers.rs**\n  Modify existing code\n\n**trustpay.rs**\n  Add:\n    - impl: impl api::PaymentToken for Trustpay\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Trustpay\n\n**worldline.rs**\n  Add:\n    - impl: impl api::PaymentToken for Worldline\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Worldline\n\n**worldpay.rs**\n  Add:\n    - impl: impl api::PaymentToken for Worldpay\n    - impl: impl ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Worldpay\n\n**errors.rs**\n  Modify existing code\n\n**mandate.rs**\n  Modify existing code\n\n**cards.rs**\n  Modify existing code\n\n**transformers.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - function: private::get_connector_from_connector_type\n    - function: private::is_payment_method_tokenization_enabled_for_connector\n    - function: private::decide_payment_method_tokenize_action\n    - function: pub::get_connector_tokenization_action\n    - function: pub::is_operation_confirm\n    - enum: pub::TokenizationAction\n\n**access_token.rs**\n  Remove:\n    - function: pub::router_data_type_conversion\n\n**flows.rs**\n  Add:\n    - function: private::add_payment_method_token\n\n**authorize_flow.rs**\n  Add:\n    - function: private::add_payment_method_token\n    - function: pub::save_payment_method\n    - function: pub::save_in_locker\n    - function: pub::create_payment_method_metadata\n    - function: pub::add_payment_method_token\n    - function: private::try_from\n    - enum: pub::Action\n    - impl: impl TryFrom<types::PaymentsAuthorizeData> for types::PaymentMethodTokenizationData\n\n**verfiy_flow.rs**\n  Modify existing code\n\n**helpers.rs**\n  Modify existing code\n\n**operations.rs**\n  Modify existing code\n\n**payment_cancel.rs**\n  Modify existing code\n\n**payment_capture.rs**\n  Modify existing code\n\n**payment_complete_authorize.rs**\n  Modify existing code\n\n**payment_confirm.rs**\n  Modify existing code\n\n**payment_create.rs**\n  Modify existing code\n\n**payment_method_validate.rs**\n  Modify existing code\n\n**payment_response.rs**\n  Modify existing code\n\n**payment_session.rs**\n  Modify existing code\n\n**payment_start.rs**\n  Modify existing code\n\n**payment_status.rs**\n  Modify existing code\n\n**payment_update.rs**\n  Modify existing code\n\n**transformers.rs**\n  Modify existing code\n\n**utils.rs**\n  Modify existing code\n\n**payment_method.rs**\n  Add:\n    - function: private::update_payment_method\n    - function: private::update_payment_method\n\n**types.rs**\n  Add:\n    - struct: pub::PaymentMethodTokenizationData\n\n**api.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - function: private::get_connector_from_connector_type\n    - function: private::is_payment_method_tokenization_enabled_for_connector\n    - function: private::decide_payment_method_tokenize_action\n    - function: pub::get_connector_tokenization_action\n    - function: pub::is_operation_confirm\n    - enum: pub::TokenizationAction\n\n**payment_method.rs**\n  Add:\n    - function: private::update_payment_method\n    - function: private::update_payment_method\n\n**aci.rs**\n  Add:\n    - impl: impl api::PaymentToken for Aci\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Aci\n\n**authorizedotnet.rs**\n  Add:\n    - impl: impl api::PaymentToken for Authorizedotnet\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Authorizedotnet\n\n**checkout.rs**\n  Add:\n    - impl: impl api::PaymentToken for Checkout\n    - impl: impl services::ConnectorIntegration<\napi::PaymentMethodToken,\ntypes::PaymentMethodTokenizationData,\ntypes::PaymentsResponseData,\n> for Checkout\n\n**utils.rs**\n  Modify existing code\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_method.rs**\n  Add:\n    - function: private::update_payment_method\n    - function: private::update_payment_method\n\n**payment_method.rs**\n  Add:\n    - function: private::update_payment_method\n    - function: private::update_payment_method"}
