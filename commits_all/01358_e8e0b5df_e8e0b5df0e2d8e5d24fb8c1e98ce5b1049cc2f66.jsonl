{"prompt": "refactor(customer): refactor customer db with storage utils and move trait to domain_models and impl to storage_model (#7538)\n\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>", "response": "Files to modify:\n\n\n**customer.rs**\n  Add:\n    - function: private::from\n    - struct: pub::CustomerListConstraints\n    - trait: pub::CustomerInterface\n    - impl: impl From<CustomerListConstraints> for query::CustomerListConstraints\n\n**db.rs**\n  Modify existing code\n\n**customers.rs**\n  Remove:\n    - function: private::from\n    - function: private::find_customer_optional_by_customer_id_merchant_id\n    - function: private::find_customer_optional_with_redacted_customer_details_by_customer_id_merchant_id\n    - function: private::find_optional_by_merchant_id_merchant_reference_id\n    - function: private::update_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_merchant_reference_id_merchant_id\n    - function: private::find_customer_by_customer_id_merchant_id\n    - function: private::list_customers_by_merchant_id\n    - function: private::insert_customer\n    - function: private::insert_customer\n    - function: private::delete_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_global_id\n    - function: private::update_customer_by_global_id\n    - function: private::find_customer_optional_by_customer_id_merchant_id\n    - function: private::find_customer_optional_with_redacted_customer_details_by_customer_id_merchant_id\n    - function: private::find_optional_by_merchant_id_merchant_reference_id\n    - function: private::update_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_merchant_reference_id_merchant_id\n    - function: private::list_customers_by_merchant_id\n    - function: private::insert_customer\n    - function: private::delete_customer_by_customer_id_merchant_id\n    - function: private::update_customer_by_global_id\n    - function: private::find_customer_by_global_id\n    - function: private::find_customer_optional_by_customer_id_merchant_id\n    - function: private::find_customer_optional_with_redacted_customer_details_by_customer_id_merchant_id\n    - function: private::find_optional_by_merchant_id_merchant_reference_id\n    - function: private::list_customers_by_merchant_id\n    - function: private::update_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_merchant_reference_id_merchant_id\n    - function: private::insert_customer\n    - function: private::delete_customer_by_customer_id_merchant_id\n    - function: private::update_customer_by_global_id\n    - function: private::find_customer_by_global_id\n    - struct: pub::CustomerListConstraints\n    - trait: pub::CustomerInterface\n    - impl: impl From<CustomerListConstraints> for DieselCustomerListConstraints\n    - impl: impl CustomerInterface for Store\n    - impl: impl CustomerInterface for Store\n    - impl: impl CustomerInterface for MockDb\n    - mod: private::storage\n    - mod: private::storage\n\n**kafka_store.rs**\n  Modify existing code\n\n**customers.rs**\n  Remove:\n    - function: private::from\n    - function: private::find_customer_optional_by_customer_id_merchant_id\n    - function: private::find_customer_optional_with_redacted_customer_details_by_customer_id_merchant_id\n    - function: private::find_optional_by_merchant_id_merchant_reference_id\n    - function: private::update_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_merchant_reference_id_merchant_id\n    - function: private::find_customer_by_customer_id_merchant_id\n    - function: private::list_customers_by_merchant_id\n    - function: private::insert_customer\n    - function: private::insert_customer\n    - function: private::delete_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_global_id\n    - function: private::update_customer_by_global_id\n    - function: private::find_customer_optional_by_customer_id_merchant_id\n    - function: private::find_customer_optional_with_redacted_customer_details_by_customer_id_merchant_id\n    - function: private::find_optional_by_merchant_id_merchant_reference_id\n    - function: private::update_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_merchant_reference_id_merchant_id\n    - function: private::list_customers_by_merchant_id\n    - function: private::insert_customer\n    - function: private::delete_customer_by_customer_id_merchant_id\n    - function: private::update_customer_by_global_id\n    - function: private::find_customer_by_global_id\n    - function: private::find_customer_optional_by_customer_id_merchant_id\n    - function: private::find_customer_optional_with_redacted_customer_details_by_customer_id_merchant_id\n    - function: private::find_optional_by_merchant_id_merchant_reference_id\n    - function: private::list_customers_by_merchant_id\n    - function: private::update_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_customer_id_merchant_id\n    - function: private::find_customer_by_merchant_reference_id_merchant_id\n    - function: private::insert_customer\n    - function: private::delete_customer_by_customer_id_merchant_id\n    - function: private::update_customer_by_global_id\n    - function: private::find_customer_by_global_id\n    - struct: pub::CustomerListConstraints\n    - trait: pub::CustomerInterface\n    - impl: impl From<CustomerListConstraints> for DieselCustomerListConstraints\n    - impl: impl CustomerInterface for Store\n    - impl: impl CustomerInterface for Store\n    - impl: impl CustomerInterface for MockDb\n    - mod: private::storage\n    - mod: private::storage\n\n**lib.rs**\n  Add:\n    - function: pub::find_optional_resource\n\n**mock_db.rs**\n  Modify existing code\n\n**payment_method.rs**\n  Modify existing code"}
