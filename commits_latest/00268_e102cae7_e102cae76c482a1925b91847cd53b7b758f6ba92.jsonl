{"prompt": "feat(connector): [Trustpay] add authorize (cards 3ds, no3ds and bank redirects), refund, psync, rsync (#717)\n\nCo-authored-by: Sangamesh <sangamesh.kulkarni@juspay.in>\nCo-authored-by: sai harsha <sai.harsha@sai.harsha-MacBookPro>\nCo-authored-by: Arun Raj M <jarnura47@gmail.com>", "response": "Files to modify:\n\n\n**enums.rs**\n  Modify existing code\n\n**ext_traits.rs**\n  Modify existing code\n\n**settings.rs**\n  Add:\n    - struct: pub::ConnectorParamsWithMoreUrls\n\n**connector.rs**\n  Add:\n    - mod: pub::trustpay\n\n**stripe.rs**\n  Modify existing code\n\n**trustpay.rs**\n  Add:\n    - function: private::build_headers\n    - function: private::id\n    - function: private::common_get_content_type\n    - function: private::base_url\n    - function: private::get_auth_header\n    - function: private::build_error_response\n    - function: private::get_url\n    - function: private::get_content_type\n    - function: private::get_headers\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::build_request\n    - function: private::get_error_response\n    - function: private::handle_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_webhook_object_reference_id\n    - function: private::get_webhook_event_type\n    - function: private::get_webhook_resource_object\n    - function: private::get_flow_type\n    - struct: pub::Trustpay\n    - impl: impl ConnectorCommonExt<Flow, Request, Response> for Trustpay\n    - impl: impl ConnectorCommon for Trustpay\n    - impl: impl api::Payment for Trustpay\n    - impl: impl api::PreVerify for Trustpay\n    - impl: impl ConnectorIntegration<api::Verify, types::VerifyRequestData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::PaymentVoid for Trustpay\n    - impl: impl ConnectorIntegration<api::Void, types::PaymentsCancelData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::ConnectorAccessToken for Trustpay\n    - impl: impl ConnectorIntegration<api::AccessTokenAuth, types::AccessTokenRequestData, types::AccessToken> for Trustpay\n    - impl: impl api::PaymentSync for Trustpay\n    - impl: impl ConnectorIntegration<api::PSync, types::PaymentsSyncData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::PaymentCapture for Trustpay\n    - impl: impl ConnectorIntegration<api::Capture, types::PaymentsCaptureData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::PaymentSession for Trustpay\n    - impl: impl ConnectorIntegration<api::Session, types::PaymentsSessionData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::PaymentAuthorize for Trustpay\n    - impl: impl ConnectorIntegration<api::Authorize, types::PaymentsAuthorizeData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::Refund for Trustpay\n    - impl: impl api::RefundExecute for Trustpay\n    - impl: impl api::RefundSync for Trustpay\n    - impl: impl ConnectorIntegration<api::Execute, types::RefundsData, types::RefundsResponseData> for Trustpay\n    - impl: impl ConnectorIntegration<api::RSync, types::RefundsData, types::RefundsResponseData> for Trustpay\n    - impl: impl api::IncomingWebhook for Trustpay\n    - impl: impl services::ConnectorRedirectResponse for Trustpay\n    - mod: private::transformers\n\n**transformers.rs**\n  Add:\n    - function: private::try_from\n    - function: private::get_trustpay_payment_method\n    - function: private::get_mandatory_fields\n    - function: private::get_card_request_data\n    - function: private::get_bank_redirection_request_data\n    - function: private::try_from\n    - function: private::is_payment_failed\n    - function: private::is_payment_successful\n    - function: private::get_pending_status_based_on_redirect_url\n    - function: private::get_transaction_status\n    - function: private::from\n    - function: private::from\n    - function: private::try_from\n    - function: private::handle_cards_response\n    - function: private::handle_bank_redirects_response\n    - function: private::handle_bank_redirects_error_response\n    - function: private::handle_bank_redirects_sync_response\n    - function: pub::get_trustpay_response\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::handle_cards_refund_response\n    - function: private::handle_bank_redirects_refund_response\n    - function: private::handle_bank_redirects_refund_sync_response\n    - function: private::handle_bank_redirects_refund_sync_error_response\n    - function: private::try_from\n    - function: private::get_refund_status\n    - function: private::get_refund_status_from_result_info\n    - struct: pub::TrustpayAuthType\n    - struct: pub::MerchantIdentification\n    - struct: pub::References\n    - struct: pub::Amount\n    - struct: pub::Reason\n    - struct: pub::StatusReasonInformation\n    - struct: pub::BankPaymentInformation\n    - struct: pub::BankPaymentInformationResponse\n    - struct: pub::CallbackURLs\n    - struct: pub::PaymentRequestCards\n    - struct: pub::PaymentRequestBankRedirect\n    - struct: pub::TrustpayMandatoryParams\n    - struct: pub::PaymentsResponseCards\n    - struct: pub::PaymentsResponseBankRedirect\n    - struct: pub::ErrorResponseBankRedirect\n    - struct: pub::ReferencesResponse\n    - struct: pub::SyncResponseBankRedirect\n    - struct: pub::TrustpayAuthUpdateRequest\n    - struct: pub::ResultInfo\n    - struct: pub::TrustpayAuthUpdateResponse\n    - struct: pub::TrustpayAccessTokenErrorResponse\n    - struct: pub::TrustpayRefundRequestCards\n    - struct: pub::TrustpayRefundRequestBankRedirect\n    - struct: pub::CardsRefundResponse\n    - struct: pub::BankRedirectRefundResponse\n    - struct: pub::TrustpayRedirectResponse\n    - struct: pub::Errors\n    - struct: pub::TrustpayErrorResponse\n    - enum: pub::TrustpayPaymentMethod\n    - enum: pub::TrustpayPaymentsRequest\n    - enum: pub::TrustpayBankRedirectPaymentStatus\n    - enum: pub::TrustpayPaymentsResponse\n    - enum: pub::TrustpayRefundRequest\n    - enum: pub::RefundResponse\n    - impl: impl TryFrom<&types::ConnectorAuthType> for TrustpayAuthType\n    - impl: impl TryFrom<&types::PaymentsAuthorizeRouterData> for TrustpayPaymentsRequest\n    - impl: impl From<TrustpayBankRedirectPaymentStatus> for enums::AttemptStatus\n    - impl: impl From<TrustpayBankRedirectPaymentStatus> for enums::RefundStatus\n    - impl: impl TryFrom<types::ResponseRouterData<F, TrustpayPaymentsResponse, T, types::PaymentsResponseData>> for types::RouterData<F, T, types::PaymentsResponseData>\n    - impl: impl TryFrom<&types::RefreshTokenRouterData> for TrustpayAuthUpdateRequest\n    - impl: impl TryFrom<types::ResponseRouterData<F, TrustpayAuthUpdateResponse, T, types::AccessToken>> for types::RouterData<F, T, types::AccessToken>\n    - impl: impl TryFrom<&types::RefundsRouterData<F>> for TrustpayRefundRequest\n    - impl: impl TryFrom<types::RefundsResponseRouterData<F, RefundResponse>> for types::RefundsRouterData<F>\n\n**utils.rs**\n  Add:\n    - function: private::get_card_expiry_month_year_2_digit_with_delimiter\n\n**transformers.rs**\n  Add:\n    - function: private::try_from\n    - function: private::get_trustpay_payment_method\n    - function: private::get_mandatory_fields\n    - function: private::get_card_request_data\n    - function: private::get_bank_redirection_request_data\n    - function: private::try_from\n    - function: private::is_payment_failed\n    - function: private::is_payment_successful\n    - function: private::get_pending_status_based_on_redirect_url\n    - function: private::get_transaction_status\n    - function: private::from\n    - function: private::from\n    - function: private::try_from\n    - function: private::handle_cards_response\n    - function: private::handle_bank_redirects_response\n    - function: private::handle_bank_redirects_error_response\n    - function: private::handle_bank_redirects_sync_response\n    - function: pub::get_trustpay_response\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::try_from\n    - function: private::handle_cards_refund_response\n    - function: private::handle_bank_redirects_refund_response\n    - function: private::handle_bank_redirects_refund_sync_response\n    - function: private::handle_bank_redirects_refund_sync_error_response\n    - function: private::try_from\n    - function: private::get_refund_status\n    - function: private::get_refund_status_from_result_info\n    - struct: pub::TrustpayAuthType\n    - struct: pub::MerchantIdentification\n    - struct: pub::References\n    - struct: pub::Amount\n    - struct: pub::Reason\n    - struct: pub::StatusReasonInformation\n    - struct: pub::BankPaymentInformation\n    - struct: pub::BankPaymentInformationResponse\n    - struct: pub::CallbackURLs\n    - struct: pub::PaymentRequestCards\n    - struct: pub::PaymentRequestBankRedirect\n    - struct: pub::TrustpayMandatoryParams\n    - struct: pub::PaymentsResponseCards\n    - struct: pub::PaymentsResponseBankRedirect\n    - struct: pub::ErrorResponseBankRedirect\n    - struct: pub::ReferencesResponse\n    - struct: pub::SyncResponseBankRedirect\n    - struct: pub::TrustpayAuthUpdateRequest\n    - struct: pub::ResultInfo\n    - struct: pub::TrustpayAuthUpdateResponse\n    - struct: pub::TrustpayAccessTokenErrorResponse\n    - struct: pub::TrustpayRefundRequestCards\n    - struct: pub::TrustpayRefundRequestBankRedirect\n    - struct: pub::CardsRefundResponse\n    - struct: pub::BankRedirectRefundResponse\n    - struct: pub::TrustpayRedirectResponse\n    - struct: pub::Errors\n    - struct: pub::TrustpayErrorResponse\n    - enum: pub::TrustpayPaymentMethod\n    - enum: pub::TrustpayPaymentsRequest\n    - enum: pub::TrustpayBankRedirectPaymentStatus\n    - enum: pub::TrustpayPaymentsResponse\n    - enum: pub::TrustpayRefundRequest\n    - enum: pub::RefundResponse\n    - impl: impl TryFrom<&types::ConnectorAuthType> for TrustpayAuthType\n    - impl: impl TryFrom<&types::PaymentsAuthorizeRouterData> for TrustpayPaymentsRequest\n    - impl: impl From<TrustpayBankRedirectPaymentStatus> for enums::AttemptStatus\n    - impl: impl From<TrustpayBankRedirectPaymentStatus> for enums::RefundStatus\n    - impl: impl TryFrom<types::ResponseRouterData<F, TrustpayPaymentsResponse, T, types::PaymentsResponseData>> for types::RouterData<F, T, types::PaymentsResponseData>\n    - impl: impl TryFrom<&types::RefreshTokenRouterData> for TrustpayAuthUpdateRequest\n    - impl: impl TryFrom<types::ResponseRouterData<F, TrustpayAuthUpdateResponse, T, types::AccessToken>> for types::RouterData<F, T, types::AccessToken>\n    - impl: impl TryFrom<&types::RefundsRouterData<F>> for TrustpayRefundRequest\n    - impl: impl TryFrom<types::RefundsResponseRouterData<F, RefundResponse>> for types::RefundsRouterData<F>\n\n**access_token.rs**\n  Modify existing code\n\n**api.rs**\n  Modify existing code\n\n**connector_auth.rs**\n  Modify existing code\n\n**main.rs**\n  Add:\n    - mod: private::trustpay\n\n**trustpay.rs**\n  Add:\n    - function: private::build_headers\n    - function: private::id\n    - function: private::common_get_content_type\n    - function: private::base_url\n    - function: private::get_auth_header\n    - function: private::build_error_response\n    - function: private::get_url\n    - function: private::get_content_type\n    - function: private::get_headers\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::build_request\n    - function: private::get_error_response\n    - function: private::handle_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::get_request_body\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_headers\n    - function: private::get_content_type\n    - function: private::get_url\n    - function: private::build_request\n    - function: private::handle_response\n    - function: private::get_error_response\n    - function: private::get_webhook_object_reference_id\n    - function: private::get_webhook_event_type\n    - function: private::get_webhook_resource_object\n    - function: private::get_flow_type\n    - struct: pub::Trustpay\n    - impl: impl ConnectorCommonExt<Flow, Request, Response> for Trustpay\n    - impl: impl ConnectorCommon for Trustpay\n    - impl: impl api::Payment for Trustpay\n    - impl: impl api::PreVerify for Trustpay\n    - impl: impl ConnectorIntegration<api::Verify, types::VerifyRequestData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::PaymentVoid for Trustpay\n    - impl: impl ConnectorIntegration<api::Void, types::PaymentsCancelData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::ConnectorAccessToken for Trustpay\n    - impl: impl ConnectorIntegration<api::AccessTokenAuth, types::AccessTokenRequestData, types::AccessToken> for Trustpay\n    - impl: impl api::PaymentSync for Trustpay\n    - impl: impl ConnectorIntegration<api::PSync, types::PaymentsSyncData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::PaymentCapture for Trustpay\n    - impl: impl ConnectorIntegration<api::Capture, types::PaymentsCaptureData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::PaymentSession for Trustpay\n    - impl: impl ConnectorIntegration<api::Session, types::PaymentsSessionData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::PaymentAuthorize for Trustpay\n    - impl: impl ConnectorIntegration<api::Authorize, types::PaymentsAuthorizeData, types::PaymentsResponseData> for Trustpay\n    - impl: impl api::Refund for Trustpay\n    - impl: impl api::RefundExecute for Trustpay\n    - impl: impl api::RefundSync for Trustpay\n    - impl: impl ConnectorIntegration<api::Execute, types::RefundsData, types::RefundsResponseData> for Trustpay\n    - impl: impl ConnectorIntegration<api::RSync, types::RefundsData, types::RefundsResponseData> for Trustpay\n    - impl: impl api::IncomingWebhook for Trustpay\n    - impl: impl services::ConnectorRedirectResponse for Trustpay\n    - mod: private::transformers"}
