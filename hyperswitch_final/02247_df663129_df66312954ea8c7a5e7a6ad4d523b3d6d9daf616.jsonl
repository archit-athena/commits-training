{"prompt": "feat(subscription): Add support to call payments microservice from subscription service via payments API client (#9590)\n\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>", "response": "Files to modify:\n\n\n**subscription.rs**\n  Remove:\n    - struct: pub::CreateSubscriptionResponse\n  Add:\n    - struct: pub::SubscriptionResponse\n    - struct: pub::CreateSubscriptionPaymentDetails\n    - struct: pub::CreatePaymentsRequestData\n    - struct: pub::ConfirmPaymentsRequestData\n\n**connector_enums.rs**\n  Modify existing code\n\n**subscription.rs**\n  Remove:\n    - struct: pub::CreateSubscriptionResponse\n  Add:\n    - struct: pub::SubscriptionResponse\n    - struct: pub::CreateSubscriptionPaymentDetails\n    - struct: pub::CreatePaymentsRequestData\n    - struct: pub::ConfirmPaymentsRequestData\n\n**invoice.rs**\n  Add:\n    - function: pub::list_invoices_by_subscription_id\n\n**utils.rs**\n  Modify existing code\n\n**subscription.rs**\n  Remove:\n    - struct: pub::CreateSubscriptionResponse\n  Add:\n    - struct: pub::SubscriptionResponse\n    - struct: pub::CreateSubscriptionPaymentDetails\n    - struct: pub::CreatePaymentsRequestData\n    - struct: pub::ConfirmPaymentsRequestData\n\n**transformers.rs**\n  Add:\n    - function: private::from\n    - function: private::from\n    - enum: pub::ChargebeeInvoiceStatus\n    - impl: impl From<ChargebeeInvoiceData> for SubscriptionInvoiceData\n    - impl: impl From<ChargebeeInvoiceStatus> for connector_enums::InvoiceStatus\n\n**subscriptions.rs**\n  Add:\n    - struct: pub::SubscriptionInvoiceData\n\n**secrets_transformers.rs**\n  Modify existing code\n\n**settings.rs**\n  Add:\n    - struct: pub::InternalServicesConfig\n\n**subscription.rs**\n  Remove:\n    - struct: pub::CreateSubscriptionResponse\n  Add:\n    - struct: pub::SubscriptionResponse\n    - struct: pub::CreateSubscriptionPaymentDetails\n    - struct: pub::CreatePaymentsRequestData\n    - struct: pub::ConfirmPaymentsRequestData\n\n**billing_processor_handler.rs**\n  Add:\n    - function: pub::create\n    - function: pub::create_customer_on_connector\n    - function: pub::create_subscription_on_connector\n    - function: private::call_connector\n    - function: private::build_router_data\n    - struct: pub::BillingHandler\n    - impl: impl BillingHandler\n\n**invoice_handler.rs**\n  Add:\n    - function: pub::create_invoice_entry\n    - function: pub::update_invoice\n    - function: pub::get_amount_and_currency\n    - function: pub::create_payment_with_confirm_false\n    - function: pub::get_payment_details\n    - function: pub::create_and_confirm_payment\n    - function: pub::confirm_payment\n    - function: pub::get_latest_invoice\n    - function: pub::create_invoice_record_back_job\n    - struct: pub::InvoiceHandler\n    - impl: impl InvoiceHandler\n\n**payments_api_client.rs**\n  Add:\n    - function: private::get_internal_auth_headers\n    - function: private::make_payment_api_call\n    - function: pub::create_cit_payment\n    - function: pub::create_and_confirm_payment\n    - function: pub::confirm_payment\n    - function: pub::sync_payment\n    - struct: pub::PaymentsApiClient\n    - struct: pub::ErrorResponse\n    - struct: pub::ErrorResponseDetails\n    - impl: impl PaymentsApiClient\n\n**subscription_handler.rs**\n  Add:\n    - function: pub::new\n    - function: pub::create_subscription_entry\n    - function: pub::find_customer\n    - function: pub::find_business_profile\n    - function: pub::find_subscription\n    - function: pub::generate_response\n    - function: pub::to_subscription_response\n    - function: pub::update_subscription\n    - function: pub::get_invoice_handler\n    - struct: pub::SubscriptionHandler\n    - struct: pub::SubscriptionWithHandler\n    - impl: impl SubscriptionHandler<'a>\n    - impl: impl SubscriptionWithHandler<'_>\n\n**invoice.rs**\n  Add:\n    - function: pub::list_invoices_by_subscription_id\n\n**app.rs**\n  Modify existing code\n\n**lock_utils.rs**\n  Modify existing code\n\n**payments.rs**\n  Modify existing code\n\n**subscription.rs**\n  Remove:\n    - struct: pub::CreateSubscriptionResponse\n  Add:\n    - struct: pub::SubscriptionResponse\n    - struct: pub::CreateSubscriptionPaymentDetails\n    - struct: pub::CreatePaymentsRequestData\n    - struct: pub::ConfirmPaymentsRequestData\n\n**types.rs**\n  Modify existing code"}
