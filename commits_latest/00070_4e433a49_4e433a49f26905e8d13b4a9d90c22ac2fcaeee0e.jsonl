{"prompt": "fix(router): pop bugs in the payments confirm flow (#157)", "response": "Files to modify:\n\n\n**errors.rs**\n  Modify existing code\n\n**api_error_response.rs**\n  Modify existing code\n\n**helpers.rs**\n  Add:\n    - function: pub::add_domain_task_to_pt\n    - function: pub::validate_pm_or_token_given\n\n**operations.rs**\n  Remove:\n    - function: private::get_or_create_customer_details\n    - function: private::make_pm_data\n    - function: private::add_task_to_process_tracker\n    - function: private::get_connector\n    - impl: impl Domain<F, api::PaymentsRequest> for Op\n\n**payment_confirm.rs**\n  Add:\n    - function: private::get_or_create_customer_details\n    - function: private::make_pm_data\n    - function: private::add_task_to_process_tracker\n    - function: private::get_connector\n    - impl: impl Domain<F, api::PaymentsRequest> for PaymentConfirm\n\n**payment_create.rs**\n  Add:\n    - function: private::get_or_create_customer_details\n    - function: private::make_pm_data\n    - function: private::add_task_to_process_tracker\n    - function: private::get_connector\n    - impl: impl Domain<F, api::PaymentsRequest> for PaymentCreate\n\n**payment_status.rs**\n  Add:\n    - function: private::get_or_create_customer_details\n    - function: private::make_pm_data\n    - function: private::add_task_to_process_tracker\n    - function: private::get_connector\n    - impl: impl Domain<F, api::PaymentsRequest> for PaymentStatus\n\n**payment_update.rs**\n  Add:\n    - function: private::get_or_create_customer_details\n    - function: private::make_pm_data\n    - function: private::add_task_to_process_tracker\n    - function: private::get_connector\n    - impl: impl Domain<F, api::PaymentsRequest> for PaymentUpdate"}
