{"prompt": "feat(router): Add v2 payment cancellation flow (#9083)\n\nCo-authored-by: hyperswitch-bot[bot] <148525504+hyperswitch-bot[bot]@users.noreply.github.com>", "response": "Files to modify:\n\n\n**payment.rs**\n  Add:\n    - function: private::get_api_event_type\n    - function: private::get_api_event_type\n    - impl: impl ApiEventMetric for payments::PaymentsCancelRequest\n    - impl: impl ApiEventMetric for payments::PaymentsCancelResponse\n\n**payments.rs**\n  Add:\n    - struct: pub::PaymentsCancelRequest\n    - struct: pub::PaymentsCancelResponse\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - struct: pub::PaymentsCancelRequest\n    - struct: pub::PaymentsCancelResponse\n\n**payment_attempt.rs**\n  Modify existing code\n\n**payment_intent.rs**\n  Modify existing code\n\n**router_data.rs**\n  Add:\n    - function: private::get_payment_intent_update\n    - function: private::get_payment_attempt_update\n    - function: private::get_amount_capturable\n    - function: private::get_captured_amount\n    - function: private::get_attempt_status_for_db_update\n    - impl: impl TrackerPostUpdateObjects<\nrouter_flow_types::Void,\nrouter_request_types::PaymentsCancelData,\npayments::PaymentCancelData<router_flow_types::Void>,\n> for RouterData<\nrouter_flow_types::Void,\nrouter_request_types::PaymentsCancelData,\nrouter_response_types::PaymentsResponseData,\n>\n\n**conversion_impls.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - struct: pub::PaymentsCancelRequest\n    - struct: pub::PaymentsCancelResponse\n\n**cancel_flow.rs**\n  Remove:\n    - function: private::construct_router_data\n  Add:\n    - function: private::construct_router_data\n    - impl: impl ConstructFlowSpecificData<api::Void, types::PaymentsCancelData, types::PaymentsResponseData> for hyperswitch_domain_models::payments::PaymentCancelData<api::Void>\n\n**operations.rs**\n  Add:\n    - mod: pub::payment_cancel_v2\n\n**payment_cancel_v2.rs**\n  Add:\n    - function: private::to_validate_request\n    - function: private::to_get_tracker\n    - function: private::to_domain\n    - function: private::to_update_tracker\n    - function: private::to_validate_request\n    - function: private::to_get_tracker\n    - function: private::to_domain\n    - function: private::to_update_tracker\n    - function: private::validate_request\n    - function: private::get_trackers\n    - function: private::update_trackers\n    - function: private::get_customer_details\n    - function: private::make_pm_data\n    - function: private::perform_routing\n    - function: private::validate_status_for_operation\n    - struct: pub::PaymentsCancel\n    - impl: impl Operation<F, api::PaymentsCancelRequest> for &PaymentsCancel\n    - impl: impl Operation<F, api::PaymentsCancelRequest> for PaymentsCancel\n    - impl: impl ValidateRequest<\nF,\napi::PaymentsCancelRequest,\nhyperswitch_domain_models::payments::PaymentCancelData<F>,\n> for PaymentsCancel\n    - impl: impl GetTracker<\nF,\nhyperswitch_domain_models::payments::PaymentCancelData<F>,\napi::PaymentsCancelRequest,\n> for PaymentsCancel\n    - impl: impl UpdateTracker<\nF,\nhyperswitch_domain_models::payments::PaymentCancelData<F>,\napi::PaymentsCancelRequest,\n> for PaymentsCancel\n    - impl: impl Domain<F, api::PaymentsCancelRequest, hyperswitch_domain_models::payments::PaymentCancelData<F>> for PaymentsCancel\n    - impl: impl ValidateStatusForOperation for PaymentsCancel\n\n**payment_response.rs**\n  Add:\n    - function: private::to_post_update_tracker\n    - function: private::update_tracker\n    - impl: impl Operation<F, types::PaymentsCancelData> for PaymentResponse\n    - impl: impl PostUpdateTracker<\nF,\nhyperswitch_domain_models::payments::PaymentCancelData<F>,\ntypes::PaymentsCancelData,\n> for PaymentResponse\n\n**transformers.rs**\n  Add:\n    - function: pub::construct_cancel_router_data_v2\n    - function: pub::construct_router_data_for_cancel\n    - function: private::generate_response\n    - impl: impl GenerateResponse<api_models::payments::PaymentsCancelResponse> for hyperswitch_domain_models::payments::PaymentCancelData<F>\n\n**app.rs**\n  Modify existing code\n\n**payments.rs**\n  Add:\n    - struct: pub::PaymentsCancelRequest\n    - struct: pub::PaymentsCancelResponse"}
